!function(e,t,a){var s,i="[object OperaMini]"==Object.prototype.toString.call(e.operamini),n="placeholder"in t.createElement("input")&&!i,o="placeholder"in t.createElement("textarea")&&!i,l=a.fn,r=a.valHooks,i=a.propHooks;function c(e,t){var s=this,i=a(s);if(s.value==i.attr("placeholder")&&i.hasClass("placeholder"))if(i.data("placeholder-password")){if(i=i.hide().next().show().attr("id",i.removeAttr("id").data("placeholder-id")),!0===e)return i[0].value=t}else s.value="",i.removeClass("placeholder"),s==u()&&s.select()}function d(){var e,s,i,t=this,n=a(t),o=this.id;if(""==t.value){if("password"==t.type){if(!n.data("placeholder-textinput")){try{e=n.clone().attr({type:"text"})}catch(t){e=a("<input>").attr(a.extend((s={},i=/^jQuery\d+$/,a.each(this.attributes,function(e,t){t.specified&&!i.test(t.name)&&(s[t.name]=t.value)}),s),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":n,"placeholder-id":o}).bind("focus.placeholder",c),n.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}n=n.removeAttr("id").hide().prev().attr("id",o).show()}n.addClass("placeholder"),n[0].value=n.attr("placeholder")}else n.removeClass("placeholder")}function u(){try{return t.activeElement}catch(e){}}n&&o?(s=l.placeholder=function(){return this}).input=s.textarea=!0:((s=l.placeholder=function(){return this.filter((n?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=n,s.textarea=o,s={get:function(e){var t=a(e),s=t.data("placeholder-password");return s?s[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var s=a(e),i=s.data("placeholder-password");return i?i[0].value=t:s.data("placeholder-enabled")?(""==t?(e.value=t,e!=u()&&d.call(e)):s.hasClass("placeholder")&&c.call(e,!0,t)||(e.value=t),s):e.value=t}},n||(r.input=s,i.value=s),o||(r.textarea=s,i.value=s),a(function(){a(t).delegate("form","submit.placeholder",function(){var e=a(".placeholder",this).each(c);setTimeout(function(){e.each(d)},10)})}),a(e).bind("beforeunload.placeholder",function(){a(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(c){var a=0,d="iframe",u="popup",p="loose",f="html5",h={mode:d,standard:f,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!1,extraCss:"",extraHead:"",retainAttr:["id","class","style"]},m={};function v(){var e,t=m.id;try{e=document.createElement("iframe"),document.body.appendChild(e),c(e).attr({style:"border:0;position:absolute;width:0px;height:0px;left:0px;top:0px;",id:t,src:""}),e.doc=null,e.doc=e.contentDocument||(e.contentWindow||e).document}catch(e){throw e+". iframes may not be supported in this browser."}if(null==e.doc)throw"Cannot find document.";return e}function _(){var e="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";e+=",width="+m.popWd+",height="+m.popHt,e+=",resizable=yes,screenX="+m.popX+",screenY="+m.popY+",personalbar=no,scrollbars=yes";e=window.open("","_blank",e);return e.doc=e.document,e}c.fn.printArea=function(e){c.extend(m,h,e),a++;var l,r,t,s,e="printArea_";switch(c("[id^="+e+"]").remove(),m.id=e+a,m.mode){case d:var i=new v,n=i.doc,o=i.contentWindow||i;break;case u:n=(o=new _).doc}n.open(),n.write((m.mode==d?"":m.standard==f?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+(m.standard==p?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+(m.standard==p?"loose":"strict")+'.dtd">')+"<html>"+(s=t="",m.extraHead&&m.extraHead.replace(/([^,]+)/g,function(e){t+=e}),c(document).find("link").filter(function(){var e=c(this).attr("rel");return"undefined"===c.type(e)==0&&"stylesheet"==e.toLowerCase()}).filter(function(){var e=c(this).attr("media");return"undefined"===c.type(e)||""==e||"print"==e.toLowerCase()||"all"==e.toLowerCase()}).each(function(){s+='<link type="text/css" rel="stylesheet" href="'+c(this).attr("href")+'" >'}),m.extraCss&&m.extraCss.replace(/([^,\s]+)/g,function(e){s+='<link type="text/css" rel="stylesheet" href="'+e+'">'}),"<head><title>"+m.popTitle+"</title>"+t+s+"</head>")+(e=c(this),l="",r=m.retainAttr,e.each(function(){for(var e,t,i,s=(t=(e=c(this)).clone(),i=c("input,select,textarea",t),c("input,select,textarea",e).each(function(e){var t=c(this).attr("type");"undefined"===c.type(t)&&(t=c(this).is("select")?"select":c(this).is("textarea")?"textarea":"");var s=i.eq(e);"radio"==t||"checkbox"==t?s.attr("checked",c(this).is(":checked")):"text"==t?s.attr("value",c(this).val()):"select"==t?c(this).find("option").each(function(e){c(this).is(":selected")&&c("option",s).eq(e).attr("selected",!0)}):"textarea"==t&&s.text(c(this).val())}),t),n="",o=0;o<r.length;o++){var a=c(s).attr(r[o]);a&&(n+=(0<n.length?" ":"")+r[o]+"='"+a+"'")}l+="<div "+n+">"+c(s).html()+"</div>"}),"<body>"+l+"</body>")+"</html>"),n.close(),c(n).ready(function(){o.focus(),o.print(),m.mode==u&&m.popClose&&setTimeout(function(){o.close()},2e3)})}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){$.ui=$.ui||{},$.ui.version="1.12.1";var e,t,s,n,i,I,P,o,a,l,r,c,d,u=0,p=Array.prototype.slice;function w(e,t,s){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?s/100:1)]}function k(e,t){return parseInt($.css(e,t),10)||0}$.cleanData=(n=$.cleanData,function(e){for(var t,s,i=0;null!=(s=e[i]);i++)try{(t=$._data(s,"events"))&&t.remove&&$(s).triggerHandler("remove")}catch(e){}n(e)}),$.widget=function(e,s,t){var i,n,o,a={},l=e.split(".")[0],r=l+"-"+(e=e.split(".")[1]);return t||(t=s,s=$.Widget),$.isArray(t)&&(t=$.extend.apply(null,[{}].concat(t))),$.expr[":"][r.toLowerCase()]=function(e){return!!$.data(e,r)},$[l]=$[l]||{},i=$[l][e],n=$[l][e]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new n(e,t)},$.extend(n,i,{version:t.version,_proto:$.extend({},t),_childConstructors:[]}),(o=new s).options=$.widget.extend({},o.options),$.each(t,function(t,i){return $.isFunction(i)?void(a[t]=function(){var e,t=this._super,s=this._superApply;return this._super=n,this._superApply=o,e=i.apply(this,arguments),this._super=t,this._superApply=s,e}):void(a[t]=i);function n(){return s.prototype[t].apply(this,arguments)}function o(e){return s.prototype[t].apply(this,e)}}),n.prototype=$.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||e},a,{constructor:n,namespace:l,widgetName:e,widgetFullName:r}),i?($.each(i._childConstructors,function(e,t){var s=t.prototype;$.widget(s.namespace+"."+s.widgetName,n,t._proto)}),delete i._childConstructors):s._childConstructors.push(n),$.widget.bridge(e,n),n},$.widget.extend=function(e){for(var t,s,i=p.call(arguments,1),n=0,o=i.length;n<o;n++)for(t in i[n])s=i[n][t],i[n].hasOwnProperty(t)&&void 0!==s&&(e[t]=$.isPlainObject(s)?$.isPlainObject(e[t])?$.widget.extend({},e[t],s):$.widget.extend({},s):s);return e},$.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;$.fn[o]=function(s){var e="string"==typeof s,i=p.call(arguments,1),n=this;return e?this.length||"instance"!==s?this.each(function(){var e,t=$.data(this,a);return"instance"===s?(n=t,!1):t?$.isFunction(t[s])&&"_"!==s.charAt(0)?(e=t[s].apply(t,i))!==t&&void 0!==e?(n=e&&e.jquery?n.pushStack(e.get()):e,!1):void 0:$.error("no such method '"+s+"' for "+o+" widget instance"):$.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+s+"'")}):n=void 0:(i.length&&(s=$.widget.extend.apply(null,[s].concat(i))),this.each(function(){var e=$.data(this,a);e?(e.option(s||{}),e._init&&e._init()):$.data(this,a,new t(s,this))})),n}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=$(t||this.defaultElement||this)[0],this.element=$(t),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),this.classesElementLookup={},t!==this&&($.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=$(t.style?t.ownerDocument:t.document||t),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var s=this;this._destroy(),$.each(this.classesElementLookup,function(e,t){s._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:$.noop,widget:function(){return this.element},option:function(e,t){var s,i,n,o=e;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(s=e.split(".")).shift(),s.length){for(i=o[e]=$.widget.extend({},this.options[e]),n=0;s.length-1>n;n++)i[s[n]]=i[s[n]]||{},i=i[s[n]];if(e=s.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,s,i;for(t in e)i=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&i&&i.length&&(s=$(i.get()),this._removeClass(i,t),s.addClass(this._classes({element:s,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){function e(e,t){for(var s,i=0;e.length>i;i++)s=a.classesElementLookup[e[i]]||$(),s=n.add?$($.unique(s.get().concat(n.element.get()))):$(s.not(n.element).get()),a.classesElementLookup[e[i]]=s,o.push(e[i]),t&&n.classes[e[i]]&&o.push(n.classes[e[i]])}var o=[],a=this;return n=$.extend({element:this.element,classes:this.options.classes||{}},n),this._on(n.element,{remove:"_untrackClassesElement"}),n.keys&&e(n.keys.match(/\S+/g)||[],!0),n.extra&&e(n.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(s){var i=this;$.each(i.classesElementLookup,function(e,t){-1!==$.inArray(s.target,t)&&(i.classesElementLookup[e]=$(t.not(s.target).get()))})},_removeClass:function(e,t,s){return this._toggleClass(e,t,s,!1)},_addClass:function(e,t,s){return this._toggleClass(e,t,s,!0)},_toggleClass:function(e,t,s,i){i="boolean"==typeof i?i:s;var n="string"==typeof e||null===e,e={extra:n?t:s,keys:n?e:t,element:n?this.element:e,add:i};return e.element.toggleClass(this._classes(e),i),this},_on:function(n,o,e){var a,l=this;"boolean"!=typeof n&&(e=o,o=n,n=!1),e?(o=a=$(o),this.bindings=this.bindings.add(o)):(e=o,o=this.element,a=this.widget()),$.each(e,function(e,t){function s(){return n||!0!==l.options.disabled&&!$(this).hasClass("ui-state-disabled")?("string"==typeof t?l[t]:t).apply(l,arguments):void 0}"string"!=typeof t&&(s.guid=t.guid=t.guid||s.guid||$.guid++);var i=e.match(/^([\w:-]*)\s*(.*)$/),e=i[1]+l.eventNamespace,i=i[2];i?a.on(e,i,s):o.on(e,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=$(this.bindings.not(e).get()),this.focusable=$(this.focusable.not(e).get()),this.hoverable=$(this.hoverable.not(e).get())},_delay:function(e,t){var s=this;return setTimeout(function(){return("string"==typeof e?s[e]:e).apply(s,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass($(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass($(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass($(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass($(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,s){var i,n,o=this.options[e];if(s=s||{},(t=$.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],n=t.originalEvent)for(i in n)i in t||(t[i]=n[i]);return this.element.trigger(t,s),!($.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(s))||t.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(o,a){$.Widget.prototype["_"+o]=function(t,e,s){"string"==typeof e&&(e={effect:e});var i,n=e?!0!==e&&"number"!=typeof e&&e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),i=!$.isEmptyObject(e),e.complete=s,e.delay&&t.delay(e.delay),i&&$.effects&&$.effects.effect[n]?t[o](e):n!==o&&t[n]?t[n](e.duration,e.easing,s):t.queue(function(e){$(this)[o](),s&&s.call(t[0]),e()})}}),$.widget,I=Math.max,P=Math.abs,o=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,c=/%$/,d=$.fn.position,$.position={scrollbarWidth:function(){if(void 0!==i)return i;var e,t=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=t.children()[0];return $("body").append(t),e=s.offsetWidth,t.css("overflow","scroll"),e===(s=s.offsetWidth)&&(s=t[0].clientWidth),t.remove(),i=e-s},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),t="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight?$.position.scrollbarWidth():0,height:t?$.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=$(e||window),s=$.isWindow(t[0]),i=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:s,isDocument:i,offset:s||i?{left:0,top:0}:$(e).offset(),scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},$.fn.position=function(u){if(!u||!u.of)return d.apply(this,arguments);u=$.extend({},u);var p,f,h,m,v,e,_=$(u.of),g=$.position.getWithinInfo(u.within),b=$.position.getScrollInfo(g),y=(u.collision||"flip").split(" "),x={},t=9===(e=(t=_)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:$.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()};return _[0].preventDefault&&(u.at="left top"),f=t.width,h=t.height,m=t.offset,v=$.extend({},m),$.each(["my","at"],function(){var e,t,s=(u[this]||"").split(" ");1===s.length&&(s=o.test(s[0])?s.concat(["center"]):a.test(s[0])?["center"].concat(s):["center","center"]),s[0]=o.test(s[0])?s[0]:"center",s[1]=a.test(s[1])?s[1]:"center",e=l.exec(s[0]),t=l.exec(s[1]),x[this]=[e?e[0]:0,t?t[0]:0],u[this]=[r.exec(s[0])[0],r.exec(s[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===u.at[0]?v.left+=f:"center"===u.at[0]&&(v.left+=f/2),"bottom"===u.at[1]?v.top+=h:"center"===u.at[1]&&(v.top+=h/2),p=w(x.at,f,h),v.left+=p[0],v.top+=p[1],this.each(function(){var s,e,a=$(this),l=a.outerWidth(),r=a.outerHeight(),t=k(this,"marginLeft"),i=k(this,"marginTop"),n=l+t+k(this,"marginRight")+b.width,o=r+i+k(this,"marginBottom")+b.height,c=$.extend({},v),d=w(x.my,a.outerWidth(),a.outerHeight());"right"===u.my[0]?c.left-=l:"center"===u.my[0]&&(c.left-=l/2),"bottom"===u.my[1]?c.top-=r:"center"===u.my[1]&&(c.top-=r/2),c.left+=d[0],c.top+=d[1],s={marginLeft:t,marginTop:i},$.each(["left","top"],function(e,t){$.ui.position[y[e]]&&$.ui.position[y[e]][t](c,{targetWidth:f,targetHeight:h,elemWidth:l,elemHeight:r,collisionPosition:s,collisionWidth:n,collisionHeight:o,offset:[p[0]+d[0],p[1]+d[1]],my:u.my,at:u.at,within:g,elem:a})}),u.using&&(e=function(e){var t=m.left-c.left,s=t+f-l,i=m.top-c.top,n=i+h-r,o={target:{element:_,left:m.left,top:m.top,width:f,height:h},element:{element:a,left:c.left,top:c.top,width:l,height:r},horizontal:s<0?"left":0<t?"right":"center",vertical:n<0?"top":0<i?"bottom":"middle"};f<l&&f>P(t+s)&&(o.horizontal="center"),h<r&&h>P(i+n)&&(o.vertical="middle"),o.important=I(P(t),P(s))>I(P(i),P(n))?"horizontal":"vertical",u.using.call(this,e,o)}),a.offset($.extend(c,{using:e}))})},$.ui.position={fit:{left:function(e,t){var s=t.within,i=s.isWindow?s.scrollLeft:s.offset.left,n=s.width,o=e.left-t.collisionPosition.marginLeft,a=i-o,l=o+t.collisionWidth-n-i;t.collisionWidth>n?0<a&&l<=0?(s=e.left+a+t.collisionWidth-n-i,e.left+=a-s):e.left=!(0<l&&a<=0)&&l<a?i+n-t.collisionWidth:i:0<a?e.left+=a:0<l?e.left-=l:e.left=I(e.left-o,e.left)},top:function(e,t){var s=t.within,i=s.isWindow?s.scrollTop:s.offset.top,n=t.within.height,o=e.top-t.collisionPosition.marginTop,a=i-o,l=o+t.collisionHeight-n-i;t.collisionHeight>n?0<a&&l<=0?(s=e.top+a+t.collisionHeight-n-i,e.top+=a-s):e.top=!(0<l&&a<=0)&&l<a?i+n-t.collisionHeight:i:0<a?e.top+=a:0<l?e.top-=l:e.top=I(e.top-o,e.top)}},flip:{left:function(e,t){var s=t.within,i=s.offset.left+s.scrollLeft,n=s.width,o=s.isWindow?s.scrollLeft:s.offset.left,a=e.left-t.collisionPosition.marginLeft,l=a-o,r=a+t.collisionWidth-n-o,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,s="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,a=-2*t.offset[0];l<0?((i=e.left+c+s+a+t.collisionWidth-n-i)<0||P(l)>i)&&(e.left+=c+s+a):0<r&&(0<(o=e.left-t.collisionPosition.marginLeft+c+s+a-o)||r>P(o))&&(e.left+=c+s+a)},top:function(e,t){var s=t.within,i=s.offset.top+s.scrollTop,n=s.height,o=s.isWindow?s.scrollTop:s.offset.top,a=e.top-t.collisionPosition.marginTop,l=a-o,r=a+t.collisionHeight-n-o,c="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,s="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,a=-2*t.offset[1];l<0?((i=e.top+c+s+a+t.collisionHeight-n-i)<0||P(l)>i)&&(e.top+=c+s+a):0<r&&(0<(o=e.top-t.collisionPosition.marginTop+c+s+a-o)||r>P(o))&&(e.top+=c+s+a)}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}},$.ui.position,$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(t){return function(e){return!!$.data(e,t)}}):function(e,t,s){return!!$.data(e,s[3])}}),$.fn.extend({disableSelection:(s="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(s+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),$.ui.focusable=function(e,t){var s,i,n,o,a,l=e.nodeName.toLowerCase();return"area"===l?(i=(s=e.parentNode).name,!(!e.href||!i||"map"!==s.nodeName.toLowerCase())&&0<(n=$("img[usemap='#"+i+"']")).length&&n.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(o=!e.disabled)&&(a=$(e).closest("fieldset")[0])&&(o=!a.disabled):o="a"===l&&e.href||t,o&&$(e).is(":visible")&&function(e){for(var t=e.css("visibility");"inherit"===t;)t=(e=e.parent()).css("visibility");return"hidden"!==t}($(e)))},$.extend($.expr[":"],{focusable:function(e){return $.ui.focusable(e,null!=$.attr(e,"tabindex"))}}),$.ui.focusable,$.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):$(this[0].form)},$.ui.formResetMixin={_formResetHandler:function(){var t=$(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");$.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){var e;this.form=this.element.form(),this.form.length&&((e=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e))},_unbindFormResetHandler:function(){var e;this.form.length&&((e=this.form.data("ui-form-reset-instances")).splice($.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},"1.7"===$.fn.jquery.substring(0,3)&&($.each(["Width","Height"],function(e,s){function i(e,t,s,i){return $.each(n,function(){t-=parseFloat($.css(e,"padding"+this))||0,s&&(t-=parseFloat($.css(e,"border"+this+"Width"))||0),i&&(t-=parseFloat($.css(e,"margin"+this))||0)}),t}var n="Width"===s?["Left","Right"]:["Top","Bottom"],o=s.toLowerCase(),a={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+s]=function(e){return void 0===e?a["inner"+s].call(this):this.each(function(){$(this).css(o,i(this,e)+"px")})},$.fn["outer"+s]=function(e,t){return"number"!=typeof e?a["outer"+s].call(this,e):this.each(function(){$(this).css(o,i(this,e,!0,t)+"px")})}}),$.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},$.ui.escapeSelector=(t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(t,"\\$1")}),$.fn.labels=function(){var e,t,s;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(t=this.eq(0).parents("label"),(e=this.attr("id"))&&(s=(s=this.eq(0).parents().last()).add((s.length?s:this).siblings()),e="label[for='"+$.ui.escapeSelector(e)+"']",t=t.add(s.find(e).addBack(e))),this.pushStack(t))},$.fn.scrollParent=function(e){var t=this.css("position"),s="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var e=$(this);return(!s||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&e.length?e:$(this[0].ownerDocument||document)},$.extend($.expr[":"],{tabbable:function(e){var t=$.attr(e,"tabindex"),s=null!=t;return(!s||0<=t)&&$.ui.focusable(e,s)}}),$.fn.extend({uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var f=!1;$(document).on("mouseup",function(){f=!1}),$.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){return!0===$.data(e.target,t.widgetName+".preventClickEvent")?($.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!f){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,s=1===e.which,i=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&$(e.target).closest(this.options.cancel).length;return s&&!i&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?e.preventDefault():(!0===$.data(e.target,this.widgetName+".preventClickEvent")&&$.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),f=!0)),!0}},_mouseMove:function(e){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&$.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,f=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),$.ui.plugin={add:function(e,t,s){var i,n=$.ui[e].prototype;for(i in s)n.plugins[i]=n.plugins[i]||[],n.plugins[i].push([t,s[i]])},call:function(e,t,s,i){var n,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,s)}},$.ui.safeActiveElement=function(t){var s;try{s=t.activeElement}catch(e){s=t.body}return(s=s||t.body).nodeName||(s=t.body),s},$.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&$(e).trigger("blur")},$.widget("ui.draggable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<$(e.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=$(this);return $("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=$.ui.safeActiveElement(this.document[0]);$(e.target).closest(t).length||$.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===$(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!t.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){t=this._uiHash();if(!1===this._trigger("drag",e,t))return this._mouseUp(new $.Event("mouseup",e)),!1;this.position=t.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",$.ui.ddmanager&&$.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,s=!1;return $.ui.ddmanager&&!this.options.dropBehaviour&&(s=$.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),$.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new $.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!$(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,s=$.isFunction(t.helper),e=s?$(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),s&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),$.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t=this.options,s=this.document[0];return this.relativeContainer=null,t.containment?"window"===t.containment?void(this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===t.containment?void(this.containment=[0,0,$(s).width()-this.helperProportions.width-this.margins.left,($(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):t.containment.constructor===Array?void(this.containment=t.containment):("parent"===t.containment&&(t.containment=this.helper[0].parentNode),void((s=(e=$(t.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e))):void(this.containment=null)},_convertPositionTo:function(e,t){t=t||this.position;var s="absolute"===e?1:-1,e=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top)*s,left:t.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)*s}},_generatePosition:function(e,t){var s,i=this.options,n=this._isRootNode(this.scrollParent[0]),o=e.pageX,a=e.pageY;return n&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(s=this.relativeContainer?(s=this.relativeContainer.offset(),[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):this.containment,e.pageX-this.offset.click.left<s[0]&&(o=s[0]+this.offset.click.left),e.pageY-this.offset.click.top<s[1]&&(a=s[1]+this.offset.click.top),e.pageX-this.offset.click.left>s[2]&&(o=s[2]+this.offset.click.left),e.pageY-this.offset.click.top>s[3]&&(a=s[3]+this.offset.click.top)),i.grid&&(e=i.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY,a=!s||e-this.offset.click.top>=s[1]||e-this.offset.click.top>s[3]?e:e-this.offset.click.top>=s[1]?e-i.grid[1]:e+i.grid[1],e=i.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX,o=!s||e-this.offset.click.left>=s[0]||e-this.offset.click.left>s[2]?e:e-this.offset.click.left>=s[0]?e-i.grid[0]:e+i.grid[0]),"y"===i.axis&&(o=this.originalPageX),"x"===i.axis&&(a=this.originalPageY)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,s){return s=s||this._uiHash(),$.ui.plugin.call(this,e,[t,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),$.Widget.prototype._trigger.call(this,e,t,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,s){var i=$.extend({},e,{item:s.element});s.sortables=[],$(s.options.connectToSortable).each(function(){var e=$(this).sortable("instance");e&&!e.options.disabled&&(s.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,i))})},stop:function(t,e,s){var i=$.extend({},e,{item:s.element});s.cancelHelperRemoval=!1,$.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(s,i,n){$.each(n.sortables,function(){var e=!1,t=this;t.positionAbs=n.positionAbs,t.helperProportions=n.helperProportions,t.offset.click=n.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,$.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&$.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,n._parent=i.helper.parent(),t.currentItem=i.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return i.helper[0]},s.target=t.currentItem[0],t._mouseCapture(s,!0),t._mouseStart(s,!0,!0),t.offset.click.top=n.offset.click.top,t.offset.click.left=n.offset.click.left,t.offset.parent.left-=n.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=n.offset.parent.top-t.offset.parent.top,n._trigger("toSortable",s),n.dropped=t.element,$.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,t.fromOutside=n),t.currentItem&&(t._mouseDrag(s),i.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",s,t._uiHash(t)),t._mouseStop(s,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(s),i.position=n._generatePosition(s,!0),n._trigger("fromSortable",s),n.dropped=!1,$.each(n.sortables,function(){this.refreshPositions()}))})}}),$.ui.plugin.add("draggable","cursor",{start:function(e,t,s){var i=$("body"),s=s.options;i.css("cursor")&&(s._cursor=i.css("cursor")),i.css("cursor",s.cursor)},stop:function(e,t,s){s=s.options;s._cursor&&$("body").css("cursor",s._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(e,t,s){t=$(t.helper),s=s.options;t.css("opacity")&&(s._opacity=t.css("opacity")),t.css("opacity",s.opacity)},stop:function(e,t,s){s=s.options;s._opacity&&$(t.helper).css("opacity",s._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(e,t,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,t,s){var i=s.options,n=!1,o=s.scrollParentNotHidden[0],a=s.document[0];o!==a&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(s.overflowOffset.top+o.offsetHeight-e.pageY<i.scrollSensitivity?o.scrollTop=n=o.scrollTop+i.scrollSpeed:e.pageY-s.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=n=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(s.overflowOffset.left+o.offsetWidth-e.pageX<i.scrollSensitivity?o.scrollLeft=n=o.scrollLeft+i.scrollSpeed:e.pageX-s.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=n=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-$(a).scrollTop()<i.scrollSensitivity?n=$(a).scrollTop($(a).scrollTop()-i.scrollSpeed):$(window).height()-(e.pageY-$(a).scrollTop())<i.scrollSensitivity&&(n=$(a).scrollTop($(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-$(a).scrollLeft()<i.scrollSensitivity?n=$(a).scrollLeft($(a).scrollLeft()-i.scrollSpeed):$(window).width()-(e.pageX-$(a).scrollLeft())<i.scrollSensitivity&&(n=$(a).scrollLeft($(a).scrollLeft()+i.scrollSpeed)))),!1!==n&&$.ui.ddmanager&&!i.dropBehaviour&&$.ui.ddmanager.prepareOffsets(s,e)}}),$.ui.plugin.add("draggable","snap",{start:function(e,t,s){var i=s.options;s.snapElements=[],$(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=$(this),t=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,s){for(var i,n,o,a,l,r,c,d,u,p=s.options,f=p.snapTolerance,h=t.offset.left,m=h+s.helperProportions.width,v=t.offset.top,_=v+s.helperProportions.height,g=s.snapElements.length-1;0<=g;g--)r=(l=s.snapElements[g].left-s.margins.left)+s.snapElements[g].width,d=(c=s.snapElements[g].top-s.margins.top)+s.snapElements[g].height,m<l-f||r+f<h||_<c-f||d+f<v||!$.contains(s.snapElements[g].item.ownerDocument,s.snapElements[g].item)?(s.snapElements[g].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,$.extend(s._uiHash(),{snapItem:s.snapElements[g].item})),s.snapElements[g].snapping=!1):("inner"!==p.snapMode&&(i=f>=Math.abs(c-_),n=f>=Math.abs(d-v),o=f>=Math.abs(l-m),a=f>=Math.abs(r-h),i&&(t.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),n&&(t.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(t.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),a&&(t.position.left=s._convertPositionTo("relative",{top:0,left:r}).left)),u=i||n||o||a,"outer"!==p.snapMode&&(i=f>=Math.abs(c-v),n=f>=Math.abs(d-_),o=f>=Math.abs(l-h),a=f>=Math.abs(r-m),i&&(t.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),n&&(t.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(t.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),a&&(t.position.left=s._convertPositionTo("relative",{top:0,left:r-s.helperProportions.width}).left)),!s.snapElements[g].snapping&&(i||n||o||a||u)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,$.extend(s._uiHash(),{snapItem:s.snapElements[g].item})),s.snapElements[g].snapping=i||n||o||a||u)}}),$.ui.plugin.add("draggable","stack",{start:function(e,t,s){var i,s=s.options,s=$.makeArray($(s.stack)).sort(function(e,t){return(parseInt($(e).css("zIndex"),10)||0)-(parseInt($(t).css("zIndex"),10)||0)});s.length&&(i=parseInt($(s[0]).css("zIndex"),10)||0,$(s).each(function(e){$(this).css("zIndex",i+e)}),this.css("zIndex",i+s.length))}}),$.ui.plugin.add("draggable","zIndex",{start:function(e,t,s){t=$(t.helper),s=s.options;t.css("zIndex")&&(s._zIndex=t.css("zIndex")),t.css("zIndex",s.zIndex)},stop:function(e,t,s){s=s.options;s._zIndex&&$(t.helper).css("zIndex",s._zIndex)}}),$.ui.draggable}),$(function(){var r,o,p,a,l,c,d,u,f,s,i,h,m,v,_,g,b,y,x,t,I,n=1,P=new Array,w=1,k=0,M="",S=1,T=1,C=0,A=0,j=!1,E=3800513,D=3800513,O="",H=0,F="NP",q="NP_VA",N=0,L=navigator.appName,W=0,R=200,G=201,Q=1,X=!1,U=document.title,U=$e(document.title),V="",B="",Y=!1,J="",K="NP",Z="NP",ee="NP",te=navigator.userAgent,se=!1,ie=!1,ne=[],oe=[],ae=0,le=0,re=window.location.href,ce=0,de=0,ue=0,pe=0,fe=0,he=0,me=[],ve="",_e=[],ge="",be=(re.substring(0,5),"");$(".ask_cheryl_minimized_tab").css("visibility","visible"),I="https://va.ecitizen.gov.sg/FlexAnsWS-NG/ifaqservice.asmx/";var ye="https://va.ecitizen.gov.sg/flexAnsAPI-NG/",xe="https://va.ecitizen.gov.sg/surveys/AskJamie_NP/surveyform";function $e(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var Ie,Pe=$e((Ie=(Ie="PageTitle").replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null==(Ie=new RegExp("[\\?&]"+Ie+"=([^&#]*)").exec(location.search))?"":decodeURIComponent(Ie[1].replace(/\+/g," ")))),we=Ae();$(".chat_box textarea").removeAttr("disabled"),$.browser.mobile&&(V="Mobile",""!=Pe&&(U=Pe));var ke,Me,Se,Te,re=navigator.userAgent.toLowerCase(),Pe=-1<re.indexOf("android"),Ce=-1<re.indexOf("chrome");function Ae(){var e,t=navigator.userAgent,s=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];return/trident/i.test(s[1])?"IE "+((e=/\brv[ :]+(\d+(\.\d+)?)/g.exec(t)||[])[1]||""):(s=s[2]?[s[1],s[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/([\.\d]+)/i))&&(s[2]=e[1]),s.join(" "))}function je(){var e;we=Ae(),U=String(U).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?(U=U.replace(/\s/g,"+"),B=(B=navigator.userAgent).replace(/\s/g,"+"),$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"StartSessionNew?ProjectId="+E+"&Source="+q+"&Platform="+V+"&PageTitle="+U+"&Channel="+B)),dataType:"jsonp",contentType:"application/json;charset=utf-8",success:function(e){Me=e.results[0],Ee()}})):((e=new XDomainRequest).open("get",I+"StartSessionNew?ProjectId="+E+"&Source="+q+"&Platform="+V+"&PageTitle="+U+"&Channel="),e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){},e.onload=function(){ke=e.responseText,"MSIE 9.0"==we?dt("ASP.NET_UserSessionId",String(ke).substr(79,24)):Ee(ke)},setTimeout(function(){e.send()},0)):(url_name=I,$.ajax({type:"POST",url:url_name+"StartSessionNew",data:{ProjectId:E,Source:q,Platform:V,PageTitle:U,Channel:B},dataType:"xml",success:Ee}))}function Ee(e){var t;"MSIE 7.0"!=we&&"MSIE 8.0"!=we||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==we?t.loadXML(Me):t.loadXML(ke),e=t),dt("ASP.NET_UserSessionId",$(e).find("string").text())}function De(){return null==ut("ASP.NET_UserSessionId")?"00000000-0000-0000-0000-000000000000":ut("ASP.NET_UserSessionId")}function Oe(e){r='<div class="VAclear"></div><div class="speech-bubble"><p>'+e+"</p></div>",et()}function He(e,t,s,i,n){var o;fe=0,me.push(t.trim()),t=(t=t.replace(/[^a-zA-Z0-9?.+\-\%\@\$\*\/\s]/g,"")).replace(/\</g,""),"MSIE 7.0"==we&&(t=t.replace(/\s/g,"+")),1<t.replace(/\+/g,"").length?("none"==$(".FAQ_tab").css("display")&&$(".FAQ_tab").css("display","block"),"block"==$(".avatar_content > div.FAQ_links").css("display")&&$(".avatar_content > div.FAQ_links").css("display","none"),$(".send_button").show(),u=t,9755532!=e&&(ne.length=0,oe.length=0,$(".load").css("display","block")),$("ul.autocomplete").css({display:"none"}),we=Ae(),url_name=I,(new Date).getTime(),""!=mt||0==de?"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"AskWSLanguagePublic?ProjectId="+e+"&Question="+t+"&RecordQuestion="+s+"&SessionId="+De()+"&TextLanguage="+i+"&Source="+q+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){Be(Te=e.results[0],i,n)}}):((o=new XDomainRequest).open("get",I+"AskWSLanguagePublic?ProjectId="+e+"&Question="+t+"&RecordQuestion="+s+"&SessionId="+De()+"&TextLanguage="+i+"&Source="+q),o.onerror=function(){},o.ontimeout=function(){},o.onprogress=function(){},o.onload=function(){Be(Se=o.responseText,i,n)},o.send()):$.ajax({type:"POST",url:url_name+"AskWSLanguagePublic",data:{ProjectId:e,Question:t,RecordQuestion:s,SessionId:De(),TextLanguage:i,Source:q},dataType:"xml",success:function(e){Be(e,i,n)},complete:function(e,t){}}):"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"AskWSLanguagebyCategory?ProjectId="+e+"&Question="+t+"&RecordQuestion="+s+"&SessionId="+De()+"&TextLanguage="+i+"&CategoryId=11954,11914,"+de+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){Be(Te=e.results[0],i,n)}}):((o=new XDomainRequest).open("get",I+"AskWSLanguagebyCategory?ProjectId="+e+"&Question="+t+"&RecordQuestion="+s+"&SessionId="+De()+"&TextLanguage="+i+"&CategoryId=11954,11914,"+de),o.onerror=function(){},o.ontimeout=function(){},o.onprogress=function(){},o.onload=function(){Be(Se=o.responseText,i,n)},o.send()):$.ajax({type:"POST",url:url_name+"AskWSLanguagebyCategory",data:{ProjectId:e,Question:t,RecordQuestion:s,SessionId:De(),TextLanguage:i,CategoryId:"11954,11914,"+de},dataType:"xml",success:function(e){Be(e,i,n)},complete:function(e,t){}})):jQuery.browser.mobile?$(".chat_box textarea").val(""):($(".chat_box textarea").val(""),"MSIE 9.0"!=we&&$(".chat_box textarea").focus())}jQuery.browser.mobile&&Pe&&Ce&&$(".print_link").hide(),2==w&&$(".avatar_content").addClass("switch_option_2"),yql_url=function(e){return'https://query.yahooapis.com/v1/public/yql?q=select * from xml where url="'+e+'"'},$("input, textarea").placeholder(),$("div.chat_box").css("visibility","visible");var Fe,qe,Ne,Le,We,Re,Ge,Qe,Xe,ze,Ue=[],Ve=[];function Be(e,t,s){"MSIE 7.0"!=we&&"MSIE 8.0"!=we||((i=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==we?i.loadXML(Te):i.loadXML(Se),e=i);var i,n;(new Date).getTime();a=0,$(".mdone").show(),$(".mainmenu").css("display","flex"),$(".prevmenu").css("display","flex"),"undefined"!=typeof openAuto&&openAuto&&($(".mdone").attr("href",xe),$(".mdone").removeAttr("target"),$(".mdone").removeAttr("onclick")),output2="",output3=r="",output5=M="",l="",c=$(e).find("MesId").text(),"en"!=t&&""!=s&&(i=c,t=s,s=q,we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"AddOrgQuestion?MesId="+i+"&Question="+t+"&Source="+s+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}}):((n=new XDomainRequest).open("get",I+"AddOrgQuestion?MesId="+i+"&Question="+t+"&Source="+s),n.onload=function(){n.responseText},n.send()):(url_name=I,$.ajax({type:"POST",url:url_name+"AddOrgQuestion",data:{MesId:i,Question:t,Source:s},dataType:"xml"}))),o=1,$(e).find("Response").each(function(e){if(0==e)if(flag=$(this).find("IsTopMatch").text(),h=$(this).find("FolderId").text(),m=$(this).find("FolderId").text(),TopMatchRespID=$(this).find("ResponseId").text(),TopMatchConf=$(this).find("Confidence").text(),Score=$(this).find("Score").text(),x=$.trim($(this).find("Message").text()),ve=$(this).find("MesGroupId").text(),"VERY_HIGH"!=$(this).find("Confidence").text()&&(flag="false"),flag="VERY_HIGH"==TopMatchConf||"HIGH"==TopMatchConf&&500<Score?"true":"false","true"===flag){1==d&&(j=!0,d=0,y=$(this).find("Message").text()),r+='<p class="red_color">',r+="</p>";var t=$(this).find("Text").text();t=(t=(t=t.replace("&lt;scope&gt;","<b>"+ee+"</b>")).replace("&lt;agencyshort&gt;","<b>"+K+"</b>")).replace("&lt;agency&gt;","<b>"+Z+"</b>"),J+="You asked:"+question+"\n","Contextual Question"!=x&&0!=h&&1!=j&&1!=X&&(b=$(this).find("Context").text()),"11914"==$(this).find("FolderId").text()&&(fe=1,t='I\'m sorry, I do not fully understand your question.<br><br>For full-time course and admissions related queries (e.g. admissions exercise, course information), please select <a href="javascript:void(0)" id="watson">"Full-time Course & Admissions Advisory"</a>.<br><br>Alternatively, if you need further assistance, you may email to <a href="mailto:AskNP@edu.sg">AskNP@edu.sg</a> or visit <a href="https://www.np.edu.sg/Pages/contact.aspx" target="_blank">here</a> for our various contact points.'),1!=le&&(r='<div class="VAclear"></div><div class="speech-bubble1"><div>'+t+"</div></div>",0==fe&&(r+='<div class="VAclear"></div><div class="decision_tree-'+S+++'"></div>')),"Contextual Question"==x&&void 0!==b&&0!=$.trim(b).length?Y=!(r=""):(Y=!1,1!=j&&(se=!1),output5+='<button class="button-question" id="btnQn" type="button" ><font class="fbtext">Did my answer help you?</font></button>',output5+='<button class="button-yes" id="btnYes" title ="Yes" type="button" ></button>',output5+='<button class="button-clear" id="btnClear" type="button" ></button><span></span>',output5+='<button class="button-no" id="btnNo" title ="No" type="button"></button><span></span>',output5=(te.indexOf("SM-T320"),'<div class="VAclear"></div><div class="float_fb'+C+'  ">'+output5+'</div><div class="VAclear"></div>'),l=$(this).find("MesGroupId").text(),Ue.push([c,l]),1==X&&Ve.push([c]),1==X&&(_=Ve[0].toString(),g=Ve[1].toString(),s=_,i=g,t=F,we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"ProcessCrossProject?MainProjectMesId="+s+"&CrossProjectMesId="+i+"&MainProjectName="+t+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}}):((n=new XDomainRequest).open("get",I+"ProcessCrossProject?MainProjectMesId="+s+"&CrossProjectMesId="+i+"&MainProjectName="+t),n.onerror=function(){},n.ontimeout=function(){},n.onprogress=function(){},n.onload=function(){n.responseText},n.send()):(url_name=I,$.ajax({type:"POST",url:url_name+"ProcessCrossProject",data:{MainProjectMesId:s,CrossProjectMesId:i,MainProjectName:t},dataType:"xml"})),X=!1,Ve.length=0),C++,E==D&&(N=0))}else if(Y=!1,Ve.length=0,Ve.push([c]),se=!0,"0"!=h&&"Contextual Question"!=x){if(J=J+"You asked:"+f.replace(/[^a-zA-Z0-9?.+\-\*\/\s]/g,"")+"\n","11914"==$(this).find("FolderId").text())return r='<div class="VAclear"></div><div class="speech-bubble1">',r+='<p>I\'m sorry, I do not fully understand your question.<br><br>For full-time course and admissions related queries (e.g. admissions exercise, course information), please select <a href="javascript:void(0)" id="watson">"Full-time Course & Admissions Advisory"</a>.<br><br>Alternatively, if you need further assistance, you may email to <a href="mailto:AskNP@edu.sg">AskNP@edu.sg</a> or visit <a href="https://www.np.edu.sg/Pages/contact.aspx" target="_blank">here</a> for our various contact points.</p>',r+="</div>",!1;N++,output3="<p>",output3+="<div class='VAclear'></div><div class='speech-bubble1'>",output3+="<p>",output3+="I found the following information which could help you</p>",output2+='<div class="relques"><a href="'+(P.length+1)+'" question_Id="'+(P.length+1)+'" custom_MesGroupId="'+$(this).find("MesGroupId").text()+'">'+$(this).find("Message").text()+"</a></div>",o=0,a++,1!=d?(d=1,""==r&&setTimeout(function(){Ke(u)},500)):(A=1,E=D)}else Y=!1;else"0"!=(h=$(this).find("FolderId").text())&&"0"==m&&"3881"==TopMatchRespID&&"VERY_HIGH"!=TopMatchConf||"0"!=h&&"0"!=m&&"Contextual Question"!=x&&(1==e&&"true"==flag&&(output2+='<div style="margin-bottom:10px"><strong>Related Questions</strong></div>',E==D&&(N=0)),output2+='<div class="relques"><a href="'+(P.length+1)+'" question_Id="'+(P.length+1)+'" custom_MesGroupId="'+$(this).find("MesGroupId").text()+'">'+$(this).find("Message").text()+"</a></div>"),"0"!=h&&"0"!=m&&1==e&&"true"==$(this).find("IsTopMatch").text()&&400<$(this).find("Score").text()&&($(this).find("MesGroupId").text(),$(this).find("Text").text(),$(this).find("Message").text()),a++;var s,i,n;if(4==a)return!1}),clear_div="",1==Y&&(output2=r=""),""!=output2&&(1==o?"0"!=m&&(output2='<div class="float_right'+T+++' sliding_panel"><button class="sliding_panel_close" type="button">x</button>'+output2+'</div><div class="VAclear"></div><div class="sliding_panel_button"><a  href="javascript:void(0)" class="sliding_panel_button related_question">Related Questions</a></div>'):output2='<div class="float_right'+T+++'" style="max-width:98%">'+output2+"</div>",clear_div='<div class="VAclear"></div>',Ze()),""==output3?""!=r||""!=output2?(P.push(e),1==ie&&(r=""),""!=r&&(r=""==mt?output3+r+output2+clear_div:output3+r+clear_div),"0"!=m&&"Contextual Question"!=x&&""!=output5&&(r+=output5),et(),""!=mt&&vt(),Q++,""!=l&&st(E,l,S),""!=r&&(Ye(),Ze(),"0"!=m&&($(".avatar_content li div.float_fb"+(C-1)).find("#btnYes").each(function(){navigator.userAgent.match(/iPhone/i);$(this).click(function(e){var t=$(".avatar_content li div.float_fb"+(C-1)).find("#btnYes").closest("div").attr("class");Je(Ue[t=C-1][0],Ue[t][1],R),$(this).parent().css("display","none"),$(".project_2_answer_heading").css("margin-top","7px")})}),$(".avatar_content li div.float_fb"+(C-1)).find("#btnNo").each(function(){navigator.userAgent.match(/iPhone/i);$(this).click(function(e){var t=$(".avatar_content li div.float_fb"+(C-1)).find("#btnNo").closest("div").attr("class");Je(Ue[t=C-1][0],Ue[t][1],G),$(this).parent().css("display","none"),$(".project_2_answer_heading").css("margin-top","7px")})})))):(se=!1,Y=(1==Y?(question="MSIE 7.0"==we?(b=b.replace(/\s/g,"+"),question+"+"+b):question+" "+b,He(E,question,"","en","")):(Y=!1,Ve.length=0,Ve.push([c]),1!=d?(d=1,""==r&&setTimeout(function(){Ke(u)},500)):(A=1,E=D),et()),!1)):(P.push(e),Q++,oe.push(output2),ne.push(output3)),url_name=I}function Ye(){$("div.sliding_panel_button").not(":last").remove(),$(".sliding_panel_button a").click(function(e){e.preventDefault(),$(".chat_box textarea").blur(),"block"==$(this).parent().parent().find(".sliding_panel").css("display")?$(this).parent().parent().find(".sliding_panel").css("display","none"):$(this).parent().parent().find(".sliding_panel").css("display","block")}),$(".sliding_panel_close").click(function(){$(this).parent().parent().find(".sliding_panel").css("display","none")})}function Je(e,t,s){var i;we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"ProcessFeedback?ProjectId="+E+"&MesId="+e+"&Feedback="+s+"&MesGroupID="+t+"&SessionId="+De()+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}}):((i=new XDomainRequest).open("get",I+"ProcessFeedback?ProjectId="+E+"&MesId="+e+"&Feedback="+s+"&MesGroupID="+t+"&SessionId="+De()),i.onerror=function(){},i.ontimeout=function(){},i.onprogress=function(){},i.onload=function(){i.responseText},i.send()):(url_name=I,$.ajax({type:"POST",url:url_name+"ProcessFeedback",data:{ProjectId:E,MesId:e,Feedback:s,MesGroupID:t,SessionId:De()},dataType:"xml"}))}function Ke(e){srclang="en",0==se?(r="<div class='VAclear'></div><div class='speech-bubble1'>",function(e){var t=0,s=e.replace(/\s/g," ");for(s=s.split(" "),z=0;z<s.length;z++)0<s[z].length&&t++}(e),outputRephrase="<p>I am sorry, I am unable to help you with this question. You may try selecting another category by clicking <a href=\"javascript:void(0)\" onclick=\"$('.prevmenu').trigger('click')\">here</a>.</p>",outputContact="<p>I am sorry I have been unable to assist you. Please provide us your email address and we will do our best to respond to you as soon as possible.</p>",outputContact+='<form id="np_email">',outputContact+='<input class="np_form_field" type="email" size="30" required="required" placeholder="Enter your email address" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$">',outputContact+='<input class="np_submit_field" type="submit" value="Submit">',outputContact+="</form>",E==D&&N++,1==ie?(r='<div class="VAclear"></div><div class="speech-bubble1"><div>'+t+"</div></div>",ie=!1):(r+=3<=N?outputContact:outputRephrase,r+="</div>",0),et(),""!=mt&&vt()):(r=ne[0]+oe[0]+clear_div,ne.length=0,oe.length=0,output3=0,output2=0,et(),""!=mt&&vt(),Ye(),Ze())}function Ze(){$(".avatar_content li div.float_right"+(T-1)).find("a").each(function(){$(this).click(function(e){e.preventDefault(),e.stopImmediatePropagation();var t;$(this);link_con_xml=Number($(this).attr("question_Id")),link_text=$(this).text(),custom_MesGroupId=$(this).attr("custom_MesGroupId"),e=custom_MesGroupId,we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"AddQuestionsClicked?ProjectId="+E+"&MesId="+e+"&Source="+q+"&SessionId="+De()+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}}):((t=new XDomainRequest).open("get",I+"AddQuestionsClicked?ProjectId="+E+"&MesId="+e+"&Source="+q+"&SessionId="+De()),t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){},t.onload=function(){t.responseText},t.send()):(url_name=I,$.ajax({type:"POST",url:url_name+"AddQuestionsClicked",data:{ProjectId:E,MesId:e,Source:q,SessionId:De()},dataType:"xml"})),xml_2=P[link_con_xml-1],$(xml_2).find("Response").each(function(e){var t,s,i,n,o,a,l;link_text==$(this).find("Message").text()&&(1!=w?(r='<span class="previous_top_match">Previous</span></br></br>',r+="<strong>"):r='<div class="VAclear"></div><div class="speech-bubble">',r+="<p>"+$(this).find("Message").text()+"</p></div>",l=$(this).find("Text").text(),"The date and time is"==$(this).find("Text").text()&&(t=(a=new Date).getDate(),s=a.getMonth()+1,i=a.getFullYear(),n=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),a=12<(o=12<a.getHours()?a.getHours()-12:a.getHours())?"PM":"AM",l=$(this).find("Text").text()+" "+o+":"+n+a+" "+t+"/"+s+"/"+i),r+='<div class="VAclear"></div><div class="speech-bubble1"><div>'+l+"</div></div>",$(".sliding_panel_close").trigger("click"),r=r+'<div class="VAclear"></div><div class="decision_tree-'+S+++'"></div>',st(E,custom_MesGroupId,S),et(),Ze(),Ye(),1!=w&&previous_init())})})})}function et(){var e,t;""!=r&&($(".load").css("display","none"),$("li.last_li").removeClass("last_li"),0==j&&(1==ae&&($("li").css("border-bottom","0px"),$("li").css("padding-bottom","1px")),r='<li class="last_li">'+r+"</li>"),content_height1=$(".avatar_content > ul").outerHeight(),0==j&&0==A?(1==w?$(".avatar_content > ul").append(r):($(".avatar_content > ul").append(r),content_height1=0),0):1==j&&(0==H?"0"!=m?(1==se?(r="",0==content_height1&&(r='<li class="last_li">'),r+='<div class="VAclear"></div><div class="speech-bubble1"><p class="project_2_answer_heading">I found an answer from <b>'+s+'</b>. Would you like me to display the answer for the following question?<ul><li class="project_2_display_link" question="'+u+'">'+y+'</li></ul></p><div class="project_2_answer"></div></div>'):(r=(content_height1,""),content_height1,r+='<div class="VAclear"></div><div class="speech-bubble1"><p class="project_2_answer_heading">I found an answer from <b>'+s+'</b>. Would you like me to display the answer for the following question? <ul><li class="project_2_display_link" question="'+u+'">'+y+'</li></ul></p><div class="project_2_answer"></div></div>'),0==content_height1?$(".avatar_content > ul").append(r):$(".avatar_content > ul").append("<li class='last_li'>"+r+"</li>"),t=i,$(".project_2_display_link").last().click(function(e){repeat_question=$(this).attr("question"),d=1,E=t,H=2,O=$(this).parent().parent(),X=!0,He(t,repeat_question,"","en","")})):9755532==i&&1!=le&&(H=2,X=!0,He(i,question,"","en","")):(H=0,e=$(O).outerHeight(),r='<div class="VAclear"></div><div class="speech-bubble">'+question+"</div>"+r,$(".avatar_content > ul").append('<li class="last_li">'+r+"</li>"),$(O).find("div.sliding_panel_button").css("top",e+"px"),$(O).find("div.sliding_panel").css("top",e+30+"px"))),j=!1,A=0,$(".avatar_content").css("overflow-y","scroll"),$(".speech-bubble1").length&&$(".speech-bubble1:last").scrollIntoView(),jQuery.browser.mobile?$(".chat_box textarea").val(""):($(".chat_box textarea").val(""),$(".chat_box textarea").focus(),"MSIE 9.0"==we&&($("ul.autocomplete").css({display:"none"}),$(".chat_box textarea").blur())))}function tt(){$(".speech-bubble1:last").scrollIntoView()}function st(i,n,s){var e;function o(e){var t,s;null==e&&null==Fe&&null==qe||"MSIE 7.0"!=we&&"MSIE 8.0"!=we||(we=Ae(),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==we?t.loadXML(qe):t.loadXML(Fe),e=t),0!=We&&0!=v?M+='<div class="VAclear"></div><p class = "speech-bubble1" ></br>':(We=$(e).find("GPFColl").children("GPFID").text(),v=$(e).find("GPFColl").children("RootNodeID").text(),0!=We&&(M+='<div class="VAclear"></div><p class = "speech-bubble1" >')),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"GetGPFTree?ProjectId="+i+"&MesId="+n+"&GPFId="+We+"&ParentNodeId="+v+"&Source="+q+"&SessionId="+De()+"&SourceLanguage=en&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){Le=e.results[0],a()}}):((s=new XDomainRequest).open("get",I+"GetGPFTree?ProjectId="+i+"&MesId="+n+"&GPFId="+We+"&ParentNodeId="+v+"&Source="+q+"&SessionId="+De()+"&SourceLanguage=en"),s.onerror=function(){},s.ontimeout=function(){},s.onprogress=function(){},s.onload=function(){a(Ne=s.responseText)},s.send()):$.ajax({type:"POST",url:url_name+"GetGPFTree",data:{ProjectId:i,MesId:n,GPFId:We,ParentNodeId:v,Source:q,SessionId:De(),SourceLanguage:"en"},dataType:"xml",success:a})}function a(e){var t;"MSIE 7.0"!=(we=Ae())&&"MSIE 8.0"!=we||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==we?t.loadXML(Le):t.loadXML(Ne),e=t),xml_helper=e,""!=Re&&(M+='<span class="black_bold"></span>'),$(e).find("GPFColl").each(function(i){$(xml_helper).find("GPFColl").each(function(){function t(e){var t;"MSIE 7.0"!=(we=Ae())&&"MSIE 8.0"!=we||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==we?t.loadXML(Qe):t.loadXML(Ge),e=t),$(".load").css("display","none"),M='<div class="VAclear"></div><div class="speech-bubble1">'+$(e).find("ResponseText").text()+"</div>",custom_decision_tree_no=Re,M+='<div class="decision_tree-'+S+++'"></div>',$(".decision_tree-"+(custom_decision_tree_no-1)).append(M),st(E,$(e).find("MesID").text(),S),tt()}var e,s;$(this).find("GPFSeq").text()==i+1&&(type=$(this).find("Type").text(),1==type?M+='<a  style="text-decoration:none" href="'+$(this).find("Data").text()+'" target="_blank"><span style="display:inline-block" class="type-1">'+$(this).find("Comment").text()+"</span></a>":2==type?(M=M.replace(/<div class="VAclear"><\/div><p class = "speech-bubble1" ><\/br><span class="black_bold"><\/span>/g,""),e=$(this).find("Data").text(),we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"GetMQA?ProjectId="+E+"&MesId="+e+"&Source="+q+"&SessionId="+De()+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){Qe=e.results[0],t()}}):((s=new XDomainRequest).open("get",I+"GetMQA?ProjectId="+E+"&MesId="+e+"&Source="+q+"&SessionId="+De()),s.onerror=function(){},s.ontimeout=function(){},s.onprogress=function(){},s.onload=function(){t(Ge=s.responseText)},s.send()):(url_name=I,$.ajax({type:"POST",url:url_name+"GetMQA",data:{ProjectId:E,MesId:e,Source:q,SessionId:De()},dataType:"xml",success:t}))):3==type?M+='<span style="display:inline-block" class="type-3a" main_gpfid="'+$(this).find("Data").text()+'">'+$(this).find("Comment").text()+"</span>":6==type?M+='<span style="display:inline-block;margin-bottom:5px;" class="type-3" custom_gpfid="'+$(this).find("GPFToId").text()+'" +  main_gpfid ="'+$(this).find("MainGPFID").text()+'">'+$(this).find("Comment").text()+"</span>":5==type&&(M+='<span style="display:block;margin-bottom:5px;">'+$(this).find("Comment").text()+"</span>"))})}),""!=M&&(M='<div class="gpfsel" style="padding:0;">'+M+"</div>"),""!=Re?(s=Re,$(".decision_tree-"+(s-1)).append(M),tt()):0!=We&&($(".decision_tree-"+(s-1)).html(M),tt()),$(".decision_tree-"+(s-1)+" div:last-child .type-3").click(function(){M='<div class="VAclear"></div><p class="speech-bubble">'+$(this).text()+"</p>",We=$(this).attr("main_gpfid"),v=$(this).attr("custom_gpfid"),Re=s,o()}),$(".decision_tree-"+(s-1)+" div:last-child .type-3a").click(function(){function t(e){var t;"MSIE 7.0"!=(we=Ae())&&"MSIE 8.0"!=we||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==we?t.loadXML(ze):t.loadXML(Xe),e=t),$(".load").css("display","none"),M="",custom_decision_tree_no=Re,M+='<div  style = "margin-top: -15px" class="decision_tree-'+S+++'"></div>',$(".decision_tree-"+(custom_decision_tree_no-1)).append(M),st(E,$(e).find("MesID").text(),S)}var e,s;We=$(this).attr("main_gpfid"),e=We,we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"GetGPFMesId?GPFId="+e+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){ze=e.results[0],t()}}):((s=new XDomainRequest).open("get",I+"GetGPFMesId?GPFId="+e),s.onerror=function(){},s.ontimeout=function(){},s.onprogress=function(){},s.onload=function(){t(Xe=s.responseText)},s.send()):(url_name=I,$.ajax({type:"POST",url:url_name+"GetGPFMesId",data:{GPFId:e},dataType:"xml",success:t}))})}M=Re="",v=We=0,url_name=I,we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"GetGPFId?ProjectId="+i+"&MesId="+n+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){qe=e.results[0],o()}}):((e=new XDomainRequest).open("get",I+"GetGPFId?ProjectId="+i+"&MesId="+n),e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){},e.onload=function(){o(Fe=e.responseText)},e.send()):$.ajax({type:"POST",url:url_name+"GetGPFId",data:{ProjectId:i,MesId:n},dataType:"xml",success:o})}function it(){1==w&&($(".ask_cheryl_minimized_tab").trigger("click"),1==n&&($("div.chat_box").animate({right:"-1500px"},300),$(".ask_cheryl_minimized_tab").show(),0==W&&"MSIE 9.0"==(we=Ae())&&(e.preventDefault(),e.stopImmediatePropagation()),W=1))}function nt(){var e;we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"UpdateSessionsHistory?ProjectId="+E+"&SessionId="+De()+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}}):((e=new XDomainRequest).open("get",I+"UpdateSessionsHistory?ProjectId="+E+"&SessionId="+De()),e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){},e.onload=function(){e.responseText},e.send()):(url_name=I,$.ajax({type:"POST",url:url_name+"UpdateSessionsHistory",data:{ProjectId:E,SessionId:De()},dataType:"xml"}))}$(document).on("submit","#np_email",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".load").css("display","block"),$(".np_form_field").prop("disabled",!0),$(".np_form_field").css("opacity","0.5"),$(".np_submit_field").prop("disabled",!0),$(".np_submit_field").css("opacity","0.5");var e=$(this).find(".np_form_field").val(),s="";function t(){$(".load").css("display","none"),outputmsg="<div class='VAclear'></div><div class='speech-bubble1'><p>Thank you for your enquiry. We will respond to you soonest possible and have a nice day ahead!</p></div>",$(".avatar_content > ul > li").last().append(outputmsg),$(".avatar_content .speech-bubble1:last").scrollIntoView()}return me.forEach(function(e,t){num=t+1,s+=num+") "+e+"|"}),$.ajax({type:"POST",url:ye+"Report/InsertChatHistory",data:JSON.stringify({ProjectId:E,SessionID:De(),EmailAddress:e,MesId:ve,Question:s,GPFAction:"",Response:""}),success:function(e){$.ajax({type:"POST",url:ye+"Report/GenerateChatHistoryEmailBody",data:JSON.stringify({ProjectId:E,SessionID:De()}),success:function(e){t()},error:function(e){t()}})},error:function(e){t()}}),!1}),$(".chat_box textarea").keyup(function(e){var t;"13"==(e.keyCode||e.which)&&(170<(t=$(this).val()).length&&$(this).val(t.substring(0,170)),question=$(this).val(),question=question.replace(/[^a-zA-Z0-9?.+\-\%\@\$\*\/\s]/g,""),question=question.replace(/\</g,""),j=!1,E=D,H=A=d=0,f=$(".chat_box textarea").val(),""!=question.trim()&&("block"==$(".select_block").css("display")&&$(".select_block").hide(),Oe(question),He(E,question,"yes","en","")),""==$.trim($(".chat_box textarea"))&&$("ul.autocomplete").css({display:"none"}),e.stopImmediatePropagation())}),$(".send_button").click(function(e){var t=$(".chat_box textarea").val();170<t.length&&$(".chat_box textarea").val(t.substring(0,170)),question=$(".chat_box textarea").val(),question=question.replace(/[^a-zA-Z0-9?.+\-\%\@\$\*\/\s]/g,""),question=question.replace(/\</g,""),j=!1,E=D,H=A=d=0,f=$(".chat_box textarea").val(),""!=question.trim()&&("block"==$(".select_block").css("display")&&$(".select_block").hide(),Oe(question),He(E,question,"yes","en","")),e.stopImmediatePropagation()}),$(".chat_box").draggable({handle:".chat_head"},{stop:function(e,t){k=$(this).offset().top,p=$(this).css("bottom")},cancel:".btns-top"}),$(".mdone").click(function(e){"MSIE 9.0"==we&&(e.preventDefault(),e.stopImmediatePropagation());e=xe+"?SessionID="+De();window.open(e,"Windows","width=520,height=655,toolbar=no,menubar=no,scrollbars=yes,resizable=no,location=no,directories=no,status=no"),nt(),jQuery.browser.mobile||it()}),$(".VAclose").click(function(e){"MSIE 9.0"==we&&(e.preventDefault(),e.stopImmediatePropagation()),nt(),it()});var ot,at,lt,rt,ct;ot=0;function dt(e,t,s){var i=new Date;i.setDate(i.getDate()+s);i=escape(t)+(null==s?"":"; expires="+i.toUTCString());document.cookie=e+"="+i}function ut(e){for(var t,s,i=document.cookie.split(";"),n=0;n<i.length;n++)if(t=i[n].substr(0,i[n].indexOf("=")),s=i[n].substr(i[n].indexOf("=")+1),(t=t.replace(/^\s+|\s+$/g,""))==e)return unescape(s)}function pt(e){var t;"MSIE 7.0"!=(we=Ae())&&"MSIE 8.0"!=we||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==we?t.loadXML(lt):t.loadXML(at),e=t),html_content='<div class="FAQ_links">',$(e).find("TopFrequentQuestion").each(function(){"HotTopics"==$(this).find("Description").text()?(pe++,html_content+='<div class="FAQlistyle"><span class="limargin"><a href="javascript:void(0)" custom_mesid="'+$(this).find("MesID").text()+'">'+$(this).find("MessageText").text()+"</a></span></div>"):ue++}),html_content+="</div>",popular_content='<div class="popular_links"><button class="FAQs_close" type="button">x</button>',$(e).find("TopFrequentQuestion").each(function(){"HotTopics"==$(this).find("Description").text()?(0==pe&&(popular_content+='<div class ="hottopictitletext">Hot Topics</div>'),pe++):(0==ue&&0!=pe&&(popular_content+='<div class="faqtitletext">Popular Questions</div>'),popular_content+='<ul class ="ulFAQ" style="padding-left:16px"><li class="FAQlistyle" ><span class="limargin"><a href="javascript:void(0)" custom_mesid="'+$(this).find("MesID").text()+'">'+$(this).find("MessageText").text()+"</a></span></li></ul>",ue++)}),popular_content+="</div>",$(".chat_head").append(popular_content+'<div class="FAQ_tab"><a href="javascript:void(0)" class="FAQ_tab">Popular</a></div>'),1==Q&&$(".avatar_content > ul").before("<div class='mainintro'><div class='opening_message speech-bubble1'>Welcome to NP bot! I can help you with your questions on Ngee Ann Polytechnic's <strong>"+ee+"</strong>. Below are some of the most popular questions in this category.</div><div class='VAclear'></div><div class='speech-bubble1'><div style='margin-bottom: 10px;'>Most Popular Questions:</div>"+html_content+"</div></div>"),$(".FAQ_tab a").click(function(e){e.stopImmediatePropagation(),$(".chat_head .popular_links").fadeToggle()}),$(".FAQs_close").click(function(){$(".popular_links").fadeOut()}),$(".FAQ_links a").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),mesid=$(this).attr("custom_mesid"),ft(mesid)}),$(".popular_links a").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),$(".popular_links").fadeOut(),mesid=$(this).attr("custom_mesid"),ft(mesid)})}function ft(e){var t;$(".load").css("display","block"),"none"==$(".FAQ_tab").css("display")&&$(".FAQ_tab").css("display","block"),we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"GetMQA?ProjectId="+E+"&MesId="+e+"&Source="+q+"&SessionId="+De())),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){ct=e.results[0],ht()}}):((t=new XDomainRequest).open("get",I+"GetMQA?ProjectId="+E+"&MesId="+e+"&Source="+q+"&SessionId="+De()),t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){},t.onload=function(){ht(rt=t.responseText)},t.send()):(url_name=I,$.ajax({type:"POST",url:url_name+"GetMQA",data:{ProjectId:E,MesId:e,Source:q,SessionId:De()},dataType:"xml",success:ht}))}function ht(e){var t;"MSIE 7.0"!=(we=Ae())&&"MSIE 8.0"!=we||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==we?t.loadXML(ct):t.loadXML(rt),e=t),$(".mdone").show(),$(".mainmenu").css("display","flex"),$(".prevmenu").css("display","flex"),"undefined"!=typeof openAuto&&openAuto&&($(".mdone").attr("href",xe),$(".mdone").removeAttr("target"),$(".mdone").removeAttr("onclick")),$(".load").css("display","none"),r='<div class="VAclear"></div><div class="speech-bubble">',b=$(e).find("Context").text(),r+="<p>"+$(e).find("MessageText").text()+"</p></div>",r+='<div class="VAclear"></div><div class="speech-bubble1"><div>'+$(e).find("ResponseText").text()+"</div></div>",N=0,r+='<div class="VAclear"></div><div class="decision_tree-'+S+++'"></div>',st(E,$(e).find("MesID").text(),S),et()}$(".avatar_content").click(function(e){$("ul.autocomplete").css({display:"none"}),$(".chat_box textarea").val(""),jQuery.browser.mobile,$(".send_button").show(),$(".avatar_content > div.FAQ_links").css("display")}),$(".print_link").click(function(e){$(".print").html($(".avatar_content > ul").html());var t,s;"MSIE 9.0"==we||"MSIE 8.0"==we||"MSIE 7.0"==we||"MSIE 10.0"==we||"IE 11.0"==we||!$.browser.mobile&&Ce?(t=$(".avatar_content > ul").html(),(s=!$.browser.mobile&&Ce?window.open("","_blank","width=700,height=600,scrollbars=yes"):window.open("","_blank","width=500,height=400,scrollbars=yes")).document.write(t),s.document.close(),s.focus(),s.print(),s.onfocus=function(){s.close()},!$.browser.mobile&&Ce&&s.close(),"MSIE 9.0"==we&&(e.preventDefault(),e.stopImmediatePropagation())):$("ul.print").printArea({mode:"iframe"})}),1==n?($("div.chat_box").css("right","-1500px"),$(".chat_box textarea").trigger("keyup")):(n=1,$(".ask_cheryl_minimized_tab").css("display","none")),$(".ask_cheryl_minimized_tab").click(function(e){var t,s,i,n,o,a,l,r,c,d,u;$("div.chat_box").css("display","inline"),"MSIE 9.0"==we&&(e.preventDefault(),e.stopImmediatePropagation()),!$.browser.mobile||"undefined"!=typeof forMobile&&forMobile?(0<k&&(320<k?($(".chat_box").css("top",""),$(".chat_box").css("bottom",p)):$(".chat_box").css("bottom","")),$(".chat_box div.avatar_content").css({display:"block"}),"undefined"!=typeof openAuto&&openAuto?($(".chat_box").css({display:"block"}),$(".VAclose").css({display:"none"})):$(".VAclose").css({display:"block"}),$(".send_container").css("border-bottom-left-radius","0"),$(".send_container").css("border-bottom-right-radius","0"),$(".send_button").css("display","inline-block"),$(".send_container").css("margin-top","0px"),$(".avatar_footer").css("display","block"),$(".chat_box textarea").css("width","80%"),$(".ie-7 .chat_box textarea").css("width","60%"),$(".ie-7 div.text_chat").css("border-top-style","solid"),$(".ie-7 div.text_chat").css("border-top-width","1px"),$(".ie-7 .send_button").show(),$(".ie-7 div.chat_box").css("border-left","1px"),$(".send_button").show(),$(".chat_box textarea").css("padding-top","12px"),$(".chat_box textarea").css("vertical-align","middle"),$(".text_chat").css("height","43px"),jQuery.browser.mobile&&$(".chat_box textarea").css("padding-top","10px")):$(".ask_cheryl_minimized_tab").show(),e.preventDefault(),e.stopImmediatePropagation(),$(this).hasClass("activeTab")?($(this).removeClass("activeTab"),$("div.chat_box").animate({right:"-1500px"},300),$("div.chat_box").css("left","auto"),$.browser.mobile&&($("div.chat_box").css("left","auto"),$("div.chat_box").css("top","auto"))):($(this).addClass("activeTab"),$.browser.mobile&&($("div.chat_box").css("left","0"),$("div.chat_box").css("top","0")),e="undefined"!=typeof openAuto&&openAuto?"5px":"25px",$("div.chat_box").animate({right:e},300),0==he&&$(".tpbot").attr("src","https://jointpoly-prd.mybluemix.net/np/"),he++,0==ce&&(je(),_e={menu1:(u="11339,11334,"+(n=s=t="11602,11702,10206,11587,10195"))+","+(d="11225,11436,11317,11420,11401,11332,"+n+","+(i="11520,11732,11544,11640,12309"))+","+(c="11361,11436,11317,11420,11401,11332,"+n+","+i),menu2:"11806,11741,11771,"+(r="11759,11753,11739")+","+(l="11602,11702,10206,10195"),menu3:(a="11741,11732,11361,"+s)+","+(o="11741,"+s),menu4:"11930,11741,11932,11681,11929,"+t,submenu1:u,submenu2:d,submenu3:c,submenu4:r,submenu5:l,submenu6:a,submenu7:o,submenu10:n,submenu11:i,submenu12:s,submenu15:t},$(".avatar_content > ul").before("<div class='select_block'><img src='https://va.ecitizen.gov.sg/cfp-ng/va/np/images/team.png'><p>Hello, I'm the NP bot! I'm here to help with any questions you may have about <strong>NP</strong></p><p class='small'>Select the icon which most describes you:</p><div class='select-items'><div id='menu1' class='select-item select_item_js'><div class='select-item__nextsub submenu1'><div class='select-items'><div id='jointpoly' class='select-item startva'><div class='select-item__inner'><i class='fas fa-id-card'></i><div class='select-item__text'>Admissions (JAE, JPAE, EAE, PFP)</div></div></div><div id='jointpoly' class='select-item startva'><div class='select-item__inner'><i class='fas fa-door-open'></i><div class='select-item__text'>Course & Entry Requirements</div></div></div><div id='11339' class='select-item startva'><div class='select-item__inner'><i class='fas fa-id-card'></i><div class='select-item__text'>Admissions (DAE)</div></div></div><div id='11334' class='select-item startva'><div class='select-item__inner'><i class='fas fa-hand-paper'></i><div class='select-item__text'>Appeals</div></div></div><div id='submenu10' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Info & Services</div></div></div></div><div class='backsub'>< Back</div></div><div class='select-item__nextsub submenu2'><div class='select-items'><div id='11225' class='select-item startva'><div class='select-item__inner'><i class='fas fa-user-edit'></i><div class='select-item__text'>Onboarding</div></div></div><div id='11436' class='select-item startva'><div class='select-item__inner'><i class='fas fa-usd-circle'></i><div class='select-item__text'>Finance Matters</div></div></div><div id='11317' class='select-item startva'><div class='select-item__inner'><i class='fas fa-hands-heart'></i><div class='select-item__text'>Pastoral Care & Support</div></div></div><div id='11420' class='select-item startva'><div class='select-item__inner'><i class='fas fa-scroll'></i><div class='select-item__text'>Scholarship & Development</div></div></div><div id='11401' class='select-item startva'><div class='select-item__inner'><i class='fas fa-puzzle-piece'></i><div class='select-item__text'>Enrichment & CCAs</div></div></div><div id='submenu11' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Academic Matters</div></div></div><div id='11332' class='select-item startva'><div class='select-item__inner'><i class='fas fa-user-tie'></i><div class='select-item__text'>Parents Portal</div></div></div><div id='submenu10' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Info & Services</div></div></div></div><div class='backsub'>< Back</div></div><div class='select-item__nextsub submenu3'><div class='select-items'><div id='11361' class='select-item startva'><div class='select-item__inner'><i class='fas fa-graduation-cap'></i><div class='select-item__text'>Graduation</div></div></div><div id='11436' class='select-item startva'><div class='select-item__inner'><i class='fas fa-usd-circle'></i><div class='select-item__text'>Finance Matters</div></div></div><div id='11317' class='select-item startva'><div class='select-item__inner'><i class='fas fa-hands-heart'></i><div class='select-item__text'>Pastoral Care & Support</div></div></div><div id='11420' class='select-item startva'><div class='select-item__inner'><i class='fas fa-scroll'></i><div class='select-item__text'>Scholarship & Development</div></div></div><div id='11401' class='select-item startva'><div class='select-item__inner'><i class='fas fa-puzzle-piece'></i><div class='select-item__text'>Enrichment & CCAs</div></div></div><div id='submenu11' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Academic Matters</div></div></div><div id='11332' class='select-item startva'><div class='select-item__inner'><i class='fas fa-user-tie'></i><div class='select-item__text'>Parents Portal</div></div></div><div id='submenu10' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Info & Services</div></div></div></div><div class='backsub'>< Back</div></div><div class='select-item__nextsub2 submenu10'><div class='select-items'><div id='11602' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Enquiries</div></div></div><div id='11702' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Facilities</div></div></div><div id='10206' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Library Services</div></div></div><div id='11587' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Student Matters</div></div></div><div id='10195' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>IT Matters</div></div></div></div><div class='backsub2'>< Back</div></div><div class='select-item__nextsub2 submenu11'><div class='select-items'><div id='11520' class='select-item startva'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Coursework & Assessment</div></div></div><div id='11732' class='select-item startva'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Education & Career Guidance</div></div></div><div id='11544' class='select-item startva'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Internship</div></div></div><div id='11640' class='select-item startva'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Overseas Programmes</div></div></div><div id='12309' class='select-item startva'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Service Learning</div></div></div></div><div class='backsub2'>< Back</div></div><div class='select-item__next'><div class='select-items'><div id='submenu1' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-user'></i><div class='select-item__text'>Post-Secondary School Leavers</div></div></div><div id='submenu2' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-user'></i><div class='select-item__text'>Freshman</div></div></div><div id='submenu3' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-user'></i><div class='select-item__text'>Year 2&3</div></div></div></div><div class='back1st'>< Back</div></div><div class='select-item__inner'><i class='fas fa-user'></i><div class='select-item__text'>Students & Parents</div></div></div><div id='menu2' class='select-item select_item_js'><div class='select-item__nextsub submenu4'><div class='select-items'><div id='11759' class='select-item startva'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Coursework & Assessment (CET)</div></div></div><div id='11753' class='select-item startva'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Modules</div></div></div><div id='11739' class='select-item startva'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Education & Career Guidance (CET)</div></div></div></div><div class='backsub'>< Back</div></div><div class='select-item__nextsub submenu5'><div class='select-items'><div id='11602' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Enquiries</div></div></div><div id='11702' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Facilities</div></div></div><div id='10206' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Library Services</div></div></div><div id='10195' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>IT Matters</div></div></div></div><div class='backsub'>< Back</div></div><div class='select-item__next'><div class='select-items'><div id='11806' class='select-item startva'><div class='select-item__inner'><i class='fas fa-id-card'></i><div class='select-item__text'>Admissions (CET)</div></div></div><div id='11741' class='select-item startva'><div class='select-item__inner'><i class='fas fa-file-certificate'></i><div class='select-item__text'>Courses & Programmes</div></div></div><div id='11771' class='select-item startva'><div class='select-item__inner'><i class='fas fa-usd-circle'></i><div class='select-item__text'>Finance Matters (CET)</div></div></div><div id='submenu4' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Academic Matters</div></div></div><div id='submenu5' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Info & Services</div></div></div></div><div class='back1st'>< Back</div></div><div class='select-item__inner'><i class='fas fa-chalkboard-teacher'></i><div  class='select-item__text'>Adult Learner</div></div></div><div id='menu3' class='select-item select_item_js'><div class='select-item__nextsub submenu6' style='justify-content: center;'><div class='select-items'><div id='11741' class='select-item startva'><div class='select-item__inner'><i class='fas fa-file-certificate'></i><div class='select-item__text'>Courses & Programmes</div></div></div><div id='11732' class='select-item startva'><div class='select-item__inner'><i class='fas fa-books'></i><div class='select-item__text'>Education & Career Guidance</div></div></div><div id='11361' class='select-item startva'><div class='select-item__inner'><i class='fas fa-graduation-cap'></i><div class='select-item__text'>Graduation</div></div></div><div id='submenu12' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Info & Services</div></div></div></div><div class='backsub'>< Back</div></div><div class='select-item__nextsub submenu7' style='justify-content: center;'><div class='select-items'><div id='11741' class='select-item startva'><div class='select-item__inner'><i class='fas fa-file-certificate'></i><div class='select-item__text'>Courses & Programmes</div></div></div><div id='submenu12' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Info & Services</div></div></div></div><div class='backsub'>< Back</div></div><div class='select-item__nextsub2 submenu12'><div class='select-items'><div id='11602' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Enquiries</div></div></div><div id='11702' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Facilities</div></div></div><div id='10206' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Library Services</div></div></div><div id='11587' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Student Matters</div></div></div><div id='10195' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>IT Matters</div></div></div></div><div class='backsub2'>< Back</div></div><div class='select-item__next' style='justify-content: center;'><div class='select-items' ><div id='submenu6' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-user-graduate'></i><div class='select-item__text'>Fresh Graduate</div></div></div><div id='submenu7' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-user-graduate'></i><div class='select-item__text'>Other Years</div></div></div></div><div class='back1st'>< Back</div></div><div class='select-item__inner'><i class='fas fa-user-graduate'></i><div class='select-item__text'>Alumni</div></div></div><div id='menu4' class='select-item select_item_js'><div class='select-item__next' style='justify-content: center;'><div class='select-items' ><div id='11930' class='select-item startva'><div class='select-item__inner'><i class='fas fa-building'></i><div class='select-item__text'>Careers & Internships</div></div></div><div id='11741' class='select-item startva'><div class='select-item__inner'><i class='fas fa-file-certificate'></i><div class='select-item__text'>Courses & Programmes</div></div></div><div id='11932' class='select-item startva'><div class='select-item__inner'><i class='fas fa-building'></i><div class='select-item__text'>Events</div></div></div><div id='11681' class='select-item startva'><div class='select-item__inner'><i class='fas fa-building'></i><div class='select-item__text'>Media & Publications</div></div></div><div id='11929' class='select-item startva'><div class='select-item__inner'><i class='fas fa-building'></i><div class='select-item__text'>Others</div></div></div><div id='submenu15' class='select-item select_item_js'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Info & Services</div></div></div></div><div class='back1st'>< Back</div></div><div class='select-item__nextsub submenu15'><div class='select-items'><div id='11602' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>General Enquiries</div></div></div><div id='11702' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Facilities</div></div></div><div id='10206' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Library Services</div></div></div><div id='11587' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>Student Matters</div></div></div><div id='10195' class='select-item startva'><div class='select-item__inner'><i class='fas fa-info-circle'></i><div class='select-item__text'>IT Matters</div></div></div></div><div class='backsub'>< Back</div></div><div class='select-item__inner'><i class='fas fa-building'></i><div class='select-item__text'>Public, Company & Schools</div></div></div></div></div>"),ce=1,$(document).on("click",".select_item_js",function(e){e.preventDefault(),e.stopImmediatePropagation(),$(".mainmenu").css("display","flex"),"select-item__next"==$(this).parent().parent().attr("class")?$(".select-item__next").css("display","none"):-1!=$(this).parent().parent().attr("class").indexOf("select-item__nextsub")&&($(".select-item__next").css("display","none"),$(".select-item__nextsub").css("display","none"),be=$(this).parent().parent().attr("class").match(/submenu\d+/));var s=$(this).attr("id");$("."+s).css("display","flex"),$.each(_e,function(e,t){if(e==s)return ge=t,!1}),de=ge,$(this).addClass("active").siblings().removeClass("active")}),$(document).on("click",".mainmenu",function(e){e.preventDefault(),e.stopImmediatePropagation(),mt="",$(".avatar_content > .mainintro").remove(),$(".popular_links").remove(),$(".FAQ_tab").remove(),$(".avatar_content > ul").empty(),$(".select_block").css("display","block"),$(".mainmenu").css("display","none"),$(".prevmenu").css("display","none"),$(".mdone").css("display","none"),$(".FAQ_tab").css("display","none"),$(".select_item_js").removeClass("active"),$(".select-item__next").css("display","flex"),$("div[class*='submenu']").css("display","none"),de=ue=pe=0,Q=1}),$(document).on("click",".prevmenu",function(e){e.preventDefault(),e.stopImmediatePropagation(),$(".send_container").css("display","none"),$(".avatar_content > .mainintro").remove(),$(".popular_links").remove(),$(".FAQ_tab").remove(),$(".avatar_content > ul").empty(),$(".select_block").css("display","block"),$(".mdone").css("display","none"),$(".FAQ_tab").css("display","none"),$(".prevmenu").css("display","none");for(var s,t=0,i=1;i<16;i++)"flex"==$(".submenu"+i).css("display")&&(t=i);de=0==t?"1"==$(".select-item.active .select-item__next").css("opacity")?($.each(_e,function(e,t){if(e==$(".select-item.active").attr("id"))return ge=t,!1}),ge):0:(s="submenu"+t,$.each(_e,function(e,t){if(e==s)return ge=t,!1}),ge),$(".chat_box textarea").val(""),ue=pe=0,Q=1}),$(document).on("click",".startva",function(e){e.preventDefault(),e.stopImmediatePropagation();var t,s=$(this).attr("id"),e=$(this).text();"jointpoly"==s?($(".select_item_js").removeClass("active"),$(".select-item__next").css("display","flex"),$("div[class*='submenu']").css("display","none"),$(".TP").trigger("click")):(mt="",$(".avatar_content > ul").empty(),$(".select_block").hide(),$(".avatar_content").css("margin","0"),$(".mainmenu").css("display","flex"),$(".prevmenu").css("display","flex"),de=s,ee=e,we=Ae(),"Microsoft Internet Explorer"==L?"MSIE 7.0"==we?$.ajax({type:"POST",url:yql_url(encodeURIComponent(I+"GetTopFAQsHotTopicsbyCategory?ProjectId="+D+"&Category="+de+"&Count=5&Type=3")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){lt=e.results[0],pt()}}):((t=new XDomainRequest).open("get",I+"GetTopFAQsHotTopicsbyCategory?ProjectId="+D+"&Category"+de+"&Count=5&Type=3"),t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){},t.onload=function(){pt(at=t.responseText)},t.send()):(url_name=I,$.ajax({type:"POST",url:url_name+"GetTopFAQsHotTopicsbyCategory",data:{ProjectId:D,Category:de,Count:"5",Type:"3"},dataType:"xml",success:pt})),we=Ae())})))}),"undefined"!=typeof openAuto&&openAuto&&($(".ask_cheryl_minimized_tab").trigger("click"),$(".ask_cheryl_minimized_tab").hide(),$("div.chat_box").css("left","0 !important"),$("span.VAclose").hide()),$(".avatar_content").on("mousewheel DOMMouseScroll",function(e){var t=e.originalEvent,t=t.wheelDelta||-t.detail;this.scrollTop+=30*(t<0?1:-1),e.preventDefault()}),$(document).on("click",".AJ",function(){""!=mt&&($(".avatar_content > ul").empty(),$(".mainintro").remove(),$(".select_block").hide(),$(".avatar_content").css("margin","0"),$(".mainmenu").css("display","flex"),$(".mdone").css("display","block"),setTimeout(function(){$(".chat_box textarea").val(mt),$(".chat_box textarea").focus(),$(".send_button").trigger("click")},500)),$(".TPframe").css("display","none"),$(".FAQ_tab").css("display","block"),$(".powered_by").css("display","block"),$(".print_link").css("display","block"),"none"==$(".select_block").css("display")&&($(".mdone").css("display","block"),$(".mainmenu").css("display","flex"))}),$(document).on("click",".TP",function(){$(".TPframe").css("display","block"),$(".FAQ_tab").css("display","none"),$(".powered_by").css("display","none"),$(".print_link").css("display","none"),$(".mdone").css("display","none"),$(".mainmenu").css("display","none"),$(".send_container").html("")}),$(document).on("click",".tab_block_js",function(){$(this).addClass("active").siblings().removeClass("active")}),"undefined"!=typeof openAuto&&openAuto&&$(".TP").html("Full-time Course & Admissions");var mt="";function vt(){mt="",r='<div class="VAclear"></div><div class="speech-bubble1">',r+="<p>To continue asking another question, please select a category by clicking <a href=\"javascript:void(0)\" onclick=\"$('.mainmenu').trigger('click')\">here</a>.</p>",r+="</div>",$(".avatar_content > ul").append(r)}window.addEventListener("message",function(e){"https://jointpoly-prd.mybluemix.net"===e.origin&&e.data&&(mt=e.data,$(".AJ").trigger("click"))},!1),$(document).on("click","#watson",function(){$(".TP").trigger("click"),document.getElementById("tpbot").contentWindow.postMessage(question,"*")}),$(document).on("click",".select-item__next",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".mainmenu").trigger("click")}),$(document).on("click",".select-item__nextsub",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".mainmenu").trigger("click")}),$(document).on("click",".select-item__nextsub2",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".mainmenu").trigger("click")}),$(document).on("click",".back1st",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".mainmenu").trigger("click")}),$(document).on("click",".backsub",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(this).parent().css("display","none"),$(this).parent().parent().find(".select-item__next").css("display","flex");var s=$(this).parent().parent().attr("id");$.each(_e,function(e,t){if(e==s)return ge=t,!1}),de=ge}),$(document).on("click",".backsub2",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(this).parent().css("display","none"),$(this).parent().parent().find("."+be).css("display","flex"),$.each(_e,function(e,t){if(e==be)return ge=t,!1}),de=ge}),$(document).ready(function(){"undefined"!=typeof openDirect&&$(".ask_cheryl_minimized_tab").trigger("click")})});