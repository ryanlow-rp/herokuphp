!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=b(a,document):"function"==typeof define&&define.amd?define(null,function(){b(a,document)}):a.plyr=b(a,document)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function f(){var f,g,h,a=navigator.userAgent,c=navigator.appName,d=""+parseFloat(navigator.appVersion),e=parseInt(navigator.appVersion,10),i=!1,j=!1,k=!1,l=!1;return navigator.appVersion.indexOf("Windows NT")!==-1&&navigator.appVersion.indexOf("rv:11")!==-1?(i=!0,c="IE",d="11"):(g=a.indexOf("MSIE"))!==-1?(i=!0,c="IE",d=a.substring(g+5)):(g=a.indexOf("Chrome"))!==-1?(k=!0,c="Chrome",d=a.substring(g+7)):(g=a.indexOf("Safari"))!==-1?(l=!0,c="Safari",d=a.substring(g+7),(g=a.indexOf("Version"))!==-1&&(d=a.substring(g+8))):(g=a.indexOf("Firefox"))!==-1?(j=!0,c="Firefox",d=a.substring(g+8)):(f=a.lastIndexOf(" ")+1)<(g=a.lastIndexOf("/"))&&(c=a.substring(f,g),d=a.substring(g+1),c.toLowerCase()==c.toUpperCase()&&(c=navigator.appName)),(h=d.indexOf(";"))!==-1&&(d=d.substring(0,h)),(h=d.indexOf(" "))!==-1&&(d=d.substring(0,h)),e=parseInt(""+d,10),isNaN(e)&&(d=""+parseFloat(navigator.appVersion),e=parseInt(navigator.appVersion,10)),{name:c,version:e,isIE:i,isFirefox:j,isChrome:k,isSafari:l,isIos:/(iPad|iPhone|iPod)/g.test(navigator.platform),isTouch:"ontouchstart"in b.documentElement}}function g(a,b){var c=a.media;if("video"==a.type)switch(b){case"video/webm":return!(!c.canPlayType||!c.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""));case"video/mp4":return!(!c.canPlayType||!c.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""));case"video/ogg":return!(!c.canPlayType||!c.canPlayType('video/ogg; codecs="theora"').replace(/no/,""))}else if("audio"==a.type)switch(b){case"audio/mpeg":return!(!c.canPlayType||!c.canPlayType("audio/mpeg;").replace(/no/,""));case"audio/ogg":return!(!c.canPlayType||!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""));case"audio/wav":return!(!c.canPlayType||!c.canPlayType('audio/wav; codecs="1"').replace(/no/,""))}return!1}function h(a){if(!b.querySelectorAll('script[src="'+a+'"]').length){var c=b.createElement("script");c.src=a;var d=b.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}function i(a,b){return Array.prototype.indexOf&&a.indexOf(b)!=-1}function j(a,b,c){return a.replace(new RegExp(b.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),c)}function k(a,b){a.length||(a=[a]);for(var c=a.length-1;c>=0;c--){var d=c>0?b.cloneNode(!0):b,e=a[c],f=e.parentNode,g=e.nextSibling;return d.appendChild(e),g?f.insertBefore(d,g):f.appendChild(d),d}}function l(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)}function m(a){a&&a.parentNode.removeChild(a)}function n(a,b){a.insertBefore(b,a.firstChild)}function o(a,b){for(var c in b)a.setAttribute(c,C.boolean(b[c])&&b[c]?"":b[c])}function p(a,c,d){var e=b.createElement(a);o(e,d),n(c,e)}function q(a){return a.replace(".","")}function r(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(/\s+/g," ").replace(" "+b+" ","");a.className=d+(c?" "+b:"")}}function s(a,b){return!!a&&(a.classList?a.classList.contains(b):new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className))}function t(a,c){var d=Element.prototype,e=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||function(a){return[].indexOf.call(b.querySelectorAll(a),this)!==-1};return e.call(a,c)}function u(a,b,c,d){a&&x(a,b,c,!0,d)}function v(a,b,c,d){a&&x(a,b,c,!1,d)}function w(a,b,c,d,e){u(a,b,function(b){c&&c.apply(a,[b]),d.apply(a,[b])},e)}function x(a,b,c,d,e){var f=b.split(" ");if(C.boolean(e)||(e=!1),a instanceof NodeList)for(var g=0;g<a.length;g++)a[g]instanceof Node&&x(a[g],arguments[1],arguments[2],arguments[3]);else for(var h=0;h<f.length;h++)a[d?"addEventListener":"removeEventListener"](f[h],c,e)}function y(a,b,c,d){if(a&&b){C.boolean(c)||(c=!1);var e=new CustomEvent(b,{bubbles:c,detail:d});a.dispatchEvent(e)}}function z(a,b){if(a)return b=C.boolean(b)?b:!a.getAttribute("aria-pressed"),a.setAttribute("aria-pressed",b),b}function A(a,b){return 0===a||0===b||isNaN(a)||isNaN(b)?0:(a/b*100).toFixed(2)}function B(){var a=arguments;if(a.length){if(1==a.lenth)return a[0];for(var b=Array.prototype.shift.call(a),c=a.length,d=0;d<c;d++){var e=a[d];for(var f in e)e[f]&&e[f].constructor&&e[f].constructor===Object?(b[f]=b[f]||{},B(b[f],e[f])):b[f]=e[f]}return b}}function D(){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},c="webkit moz o ms khtml".split(" ");if(C.undefined(b.cancelFullScreen))for(var d=0,e=c.length;d<e;d++){if(a.prefix=c[d],!C.undefined(b[a.prefix+"CancelFullScreen"])){a.supportsFullScreen=!0;break}if(!C.undefined(b.msExitFullscreen)&&b.msFullscreenEnabled){a.prefix="ms",a.supportsFullScreen=!0;break}}else a.supportsFullScreen=!0;return a.supportsFullScreen&&(a.fullScreenEventName="ms"==a.prefix?"MSFullscreenChange":a.prefix+"fullscreenchange",a.isFullScreen=function(a){switch(C.undefined(a)&&(a=b.body),this.prefix){case"":return b.fullscreenElement==a;case"moz":return b.mozFullScreenElement==a;default:return b[this.prefix+"FullscreenElement"]==a}},a.requestFullScreen=function(a){return C.undefined(a)&&(a=b.body),""===this.prefix?a.requestFullScreen():a[this.prefix+("ms"==this.prefix?"RequestFullscreen":"RequestFullScreen")]()},a.cancelFullScreen=function(){return""===this.prefix?b.cancelFullScreen():b[this.prefix+("ms"==this.prefix?"ExitFullscreen":"CancelFullScreen")]()},a.element=function(){return""===this.prefix?b.fullscreenElement:b[this.prefix+"FullscreenElement"]}),a}function E(){var b={supported:function(){if(!("localStorage"in a))return!1;try{a.localStorage.setItem("___test","OK");var b=a.localStorage.getItem("___test");return a.localStorage.removeItem("___test"),"OK"===b}catch(a){return!1}return!1}()};return b}function F(e,t){function B(){t.debug&&a.console&&console.log.apply(console,arguments)}function F(){t.debug&&a.console&&console.warn.apply(console,arguments)}function I(){return{url:t.iconUrl,absolute:0===t.iconUrl.indexOf("http")||x.browser.isIE}}function J(){var a=[],b=I(),c=(b.absolute?"":b.url)+"#"+t.iconPrefix;return i(t.controls,"play-large")&&a.push('<button type="button" data-plyr="play" class="plyr__play-large">','<svg><use xlink:href="'+c+'-play" /></svg>','<span class="plyr__sr-only">'+t.i18n.play+"</span>","</button>"),a.push('<div class="plyr__controls">'),i(t.controls,"restart")&&a.push('<button type="button" data-plyr="restart">','<svg><use xlink:href="'+c+'-restart" /></svg>','<span class="plyr__sr-only">'+t.i18n.restart+"</span>","</button>"),i(t.controls,"rewind")&&a.push('<button type="button" data-plyr="rewind">','<svg><use xlink:href="'+c+'-rewind" /></svg>','<span class="plyr__sr-only">'+t.i18n.rewind+"</span>","</button>"),i(t.controls,"play")&&a.push('<button type="button" data-plyr="play">','<svg><use xlink:href="'+c+'-play" /></svg>','<span class="plyr__sr-only">'+t.i18n.play+"</span>","</button>",'<button type="button" data-plyr="pause">','<svg><use xlink:href="'+c+'-pause" /></svg>','<span class="plyr__sr-only">'+t.i18n.pause+"</span>","</button>"),i(t.controls,"fast-forward")&&a.push('<button type="button" data-plyr="fast-forward">','<svg><use xlink:href="'+c+'-fast-forward" /></svg>','<span class="plyr__sr-only">'+t.i18n.forward+"</span>","</button>"),i(t.controls,"progress")&&(a.push('<span class="plyr__progress">','<label for="seek{id}" class="plyr__sr-only">Seek</label>','<input id="seek{id}" class="plyr__progress--seek" type="range" min="0" max="100" step="0.1" value="0" data-plyr="seek">','<progress class="plyr__progress--played" max="100" value="0" role="presentation"></progress>','<progress class="plyr__progress--buffer" max="100" value="0">',"<span>0</span>% "+t.i18n.buffered,"</progress>"),t.tooltips.seek&&a.push('<span class="plyr__tooltip">00:00</span>'),a.push("</span>")),i(t.controls,"current-time")&&a.push('<span class="plyr__time">','<span class="plyr__sr-only">'+t.i18n.currentTime+"</span>",'<span class="plyr__time--current">00:00</span>',"</span>"),i(t.controls,"duration")&&a.push('<span class="plyr__time">','<span class="plyr__sr-only">'+t.i18n.duration+"</span>",'<span class="plyr__time--duration">00:00</span>',"</span>"),i(t.controls,"mute")&&a.push('<button type="button" data-plyr="mute">','<svg class="icon--muted"><use xlink:href="'+c+'-muted" /></svg>','<svg><use xlink:href="'+c+'-volume" /></svg>','<span class="plyr__sr-only">'+t.i18n.toggleMute+"</span>","</button>"),i(t.controls,"volume")&&a.push('<span class="plyr__volume">','<label for="volume{id}" class="plyr__sr-only">'+t.i18n.volume+"</label>",'<input id="volume{id}" class="plyr__volume--input" type="range" min="'+t.volumeMin+'" max="'+t.volumeMax+'" value="'+t.volume+'" data-plyr="volume">','<progress class="plyr__volume--display" max="'+t.volumeMax+'" value="'+t.volumeMin+'" role="presentation"></progress>',"</span>"),i(t.controls,"captions")&&a.push('<button type="button" data-plyr="captions">','<svg class="icon--captions-on"><use xlink:href="'+c+'-captions-on" /></svg>','<svg><use xlink:href="'+c+'-captions-off" /></svg>','<span class="plyr__sr-only">'+t.i18n.toggleCaptions+"</span>","</button>"),i(t.controls,"fullscreen")&&a.push('<button type="button" data-plyr="fullscreen">','<svg class="icon--exit-fullscreen"><use xlink:href="'+c+'-exit-fullscreen" /></svg>','<svg><use xlink:href="'+c+'-enter-fullscreen" /></svg>','<span class="plyr__sr-only">'+t.i18n.toggleFullscreen+"</span>","</button>"),a.push("</div>"),a.join("")}function K(){if(x.supported.full&&("audio"!=x.type||t.fullscreen.allowAudio)&&t.fullscreen.enabled){var a=c.supportsFullScreen;a||t.fullscreen.fallback&&!R()?(B((a?"Native":"Fallback")+" fullscreen enabled"),r(x.container,t.classes.fullscreen.enabled,!0)):B("Fullscreen not supported and fallback disabled"),x.buttons&&x.buttons.fullscreen&&z(x.buttons.fullscreen,!1),S()}}function L(){if("video"===x.type){Q(t.selectors.captions)||x.videoContainer.insertAdjacentHTML("afterbegin",'<div class="'+q(t.selectors.captions)+'"></div>'),x.usingTextTracks=!1,x.media.textTracks&&(x.usingTextTracks=!0);for(var b,a="",c=x.media.childNodes,d=0;d<c.length;d++)"track"===c[d].nodeName.toLowerCase()&&(b=c[d].kind,"captions"!==b&&"subtitles"!==b||(a=c[d].getAttribute("src")));if(x.captionExists=!0,""===a?(x.captionExists=!1,B("No caption track found")):B("Caption track found; URI: "+a),x.captionExists){for(var e=x.media.textTracks,f=0;f<e.length;f++)e[f].mode="hidden";if(O(x),(x.browser.isIE&&x.browser.version>=10||x.browser.isFirefox&&x.browser.version>=31)&&(B("Detected browser with known TextTrack issues - using manual fallback"),x.usingTextTracks=!1),x.usingTextTracks){B("TextTracks supported");for(var g=0;g<e.length;g++){var h=e[g];"captions"!==h.kind&&"subtitles"!==h.kind||u(h,"cuechange",function(){this.activeCues[0]&&"text"in this.activeCues[0]?M(this.activeCues[0].getCueAsHTML()):M()})}}else if(B("TextTracks not supported so rendering captions manually"),x.currentCaption="",x.captions=[],""!==a){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var b,a=[],c=i.responseText;a=c.split("\n\n");for(var d=0;d<a.length;d++){b=a[d],x.captions[d]=[];var e=b.split("\n"),f=0;e[f].indexOf(":")===-1&&(f=1),x.captions[d]=[e[f],e[f+1]]}x.captions.shift(),B("Successfully loaded the caption file via AJAX")}else F("There was a problem loading the caption file via AJAX")},i.open("get",a,!0),i.send()}}else r(x.container,t.classes.captions.enabled)}}function M(a){var c=Q(t.selectors.captions),d=b.createElement("span");c.innerHTML="",C.undefined(a)&&(a=""),C.undefined(a)?d.innerHTML=a.trim():d.appendChild(a),c.appendChild(d);c.offsetHeight}function N(a){function b(a,b){var c=[];c=a.split(" --> ");for(var d=0;d<c.length;d++)c[d]=c[d].replace(/(\d+:\d+:\d+\.\d+).*/,"$1");return e(c[b])}function c(a){return b(a,0)}function d(a){return b(a,1)}function e(a){if(null===a||void 0===a)return 0;var d,b=[],c=[];return b=a.split(","),c=b[0].split(":"),d=Math.floor(60*c[0]*60)+Math.floor(60*c[1])+Math.floor(c[2])}if(!x.usingTextTracks&&"video"===x.type&&x.supported.full&&(x.subcount=0,a=C.number(a)?a:x.media.currentTime,x.captions[x.subcount])){for(;d(x.captions[x.subcount][0])<a.toFixed(1);)if(x.subcount++,x.subcount>x.captions.length-1){x.subcount=x.captions.length-1;break}x.media.currentTime.toFixed(1)>=c(x.captions[x.subcount][0])&&x.media.currentTime.toFixed(1)<=d(x.captions[x.subcount][0])?(x.currentCaption=x.captions[x.subcount][1],M(x.currentCaption)):M()}}function O(){x.buttons.captions&&(r(x.container,t.classes.captions.enabled,!0),t.captions.defaultActive&&(r(x.container,t.classes.captions.active,!0),z(x.buttons.captions,!0)))}function P(a){return x.container.querySelectorAll(a)}function Q(a){return P(a)[0]}function R(){try{return a.self!==a.top}catch(a){return!0}}function S(){function d(a){9===a.which&&x.isFullscreen&&(a.target!==c||a.shiftKey?a.target===b&&a.shiftKey&&(a.preventDefault(),c.focus()):(a.preventDefault(),b.focus()))}var a=P("input:not([disabled]), button:not([disabled])"),b=a[0],c=a[a.length-1];u(x.container,"keydown",d)}function T(a,b){if(C.string(b))p(a,x.media,{src:b});else if(b.constructor===Array)for(var c=b.length-1;c>=0;c--)p(a,x.media,b[c])}function U(){if(t.loadSprite){var a=I();a.absolute?(B("AJAX loading absolute SVG sprite"+(x.browser.isIE?" (due to IE)":"")),G(a.url,"sprite-plyr")):B("Sprite will be used as external resource directly")}var c=t.html;B("Injecting custom controls"),c||(c=J()),c=j(c,"{seektime}",t.seekTime),c=j(c,"{id}",Math.floor(1e4*Math.random()));var d;if(null!==t.selectors.controls.container&&(d=t.selectors.controls.container,C.string(d)&&(d=b.querySelector(d))),C.htmlElement(d)||(d=x.container),d.insertAdjacentHTML("beforeend",c),t.tooltips.controls)for(var e=P([t.selectors.controls.wrapper," ",t.selectors.labels," .",t.classes.hidden].join("")),f=e.length-1;f>=0;f--){var g=e[f];r(g,t.classes.hidden,!1),r(g,t.classes.tooltip,!0)}}function V(){try{return x.controls=Q(t.selectors.controls.wrapper),x.buttons={},x.buttons.seek=Q(t.selectors.buttons.seek),x.buttons.play=P(t.selectors.buttons.play),x.buttons.pause=Q(t.selectors.buttons.pause),x.buttons.restart=Q(t.selectors.buttons.restart),x.buttons.rewind=Q(t.selectors.buttons.rewind),x.buttons.forward=Q(t.selectors.buttons.forward),x.buttons.fullscreen=Q(t.selectors.buttons.fullscreen),x.buttons.mute=Q(t.selectors.buttons.mute),x.buttons.captions=Q(t.selectors.buttons.captions),x.progress={},x.progress.container=Q(t.selectors.progress.container),x.progress.buffer={},x.progress.buffer.bar=Q(t.selectors.progress.buffer),x.progress.buffer.text=x.progress.buffer.bar&&x.progress.buffer.bar.getElementsByTagName("span")[0],x.progress.played=Q(t.selectors.progress.played),x.progress.tooltip=x.progress.container&&x.progress.container.querySelector("."+t.classes.tooltip),x.volume={},x.volume.input=Q(t.selectors.volume.input),x.volume.display=Q(t.selectors.volume.display),x.duration=Q(t.selectors.duration),x.currentTime=Q(t.selectors.currentTime),x.seekTime=P(t.selectors.seekTime),!0}catch(a){return F("It looks like there is a problem with your controls HTML"),X(!0),!1}}function W(){r(x.container,t.selectors.container.replace(".",""),x.supported.full)}function X(a){a&&i(t.types.html5,x.type)?x.media.setAttribute("controls",""):x.media.removeAttribute("controls")}function Y(a){var b=t.i18n.play;if(!C.undefined(t.title)&&t.title.length&&(b+=", "+t.title),x.supported.full&&x.buttons.play)for(var c=x.buttons.play.length-1;c>=0;c--)x.buttons.play[c].setAttribute("aria-label",b);C.htmlElement(a)&&a.setAttribute("title",t.i18n.frameTitle.replace("{title}",t.title))}function Z(){if(!x.media)return void F("No media element found!");if(x.supported.full&&(r(x.container,t.classes.type.replace("{0}",x.type),!0),i(t.types.embed,x.type)&&r(x.container,t.classes.type.replace("{0}","video"),!0),r(x.container,t.classes.stopped,t.autoplay),r(x.container,t.classes.isIos,x.browser.isIos),r(x.container,t.classes.isTouch,x.browser.isTouch),"video"===x.type)){var a=b.createElement("div");a.setAttribute("class",t.classes.videoWrapper),k(x.media,a),x.videoContainer=a}i(t.types.embed,x.type)&&($(),x.embedId=null)}function $(){for(var c=b.createElement("div"),d=x.embedId,e=x.type+"-"+Math.floor(1e4*Math.random()),f=P('[id^="'+x.type+'-"]'),g=f.length-1;g>=0;g--)m(f[g]);if(r(x.media,t.classes.videoWrapper,!0),r(x.media,t.classes.embedWrapper,!0),"youtube"===x.type)x.media.appendChild(c),c.setAttribute("id",e),C.object(a.YT)?aa(d,c):(h(t.urls.youtube.api),a.onYouTubeReadyCallbacks=a.onYouTubeReadyCallbacks||[],a.onYouTubeReadyCallbacks.push(function(){aa(d,c)}),a.onYouTubeIframeAPIReady=function(){a.onYouTubeReadyCallbacks.forEach(function(a){a()})});else if("vimeo"===x.type)if(x.supported.full?x.media.appendChild(c):c=x.media,c.setAttribute("id",e),C.object(a.Vimeo))ba(d,c);else{h(t.urls.vimeo.api);var i=a.setInterval(function(){C.object(a.Vimeo)&&(a.clearInterval(i),ba(d,c))},50)}else if("soundcloud"===x.type){var j=b.createElement("iframe");j.loaded=!1,u(j,"load",function(){j.loaded=!0}),o(j,{src:"https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+d,id:e}),c.appendChild(j),x.media.appendChild(c),a.SC||h(t.urls.soundcloud.api);var k=a.setInterval(function(){a.SC&&j.loaded&&(a.clearInterval(k),ca.call(j))},50)}}function _(){x.container.plyr.embed=x.embed,x.supported.full&&Ma(),Y(Q("iframe"))}function aa(b,c){"timer"in x||(x.timer={}),x.embed=new a.YT.Player(c.id,{videoId:b,playerVars:{autoplay:t.autoplay?1:0,controls:x.supported.full?0:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:t.captions.defaultActive?1:0,cc_lang_pref:"en",wmode:"transparent",modestbranding:1,disablekb:1,origin:"*"},events:{onError:function(a){y(x.container,"error",!0,{code:a.data,embed:a.target})},onReady:function(b){var c=b.target;x.media.play=function(){c.playVideo(),x.media.paused=!1},x.media.pause=function(){c.pauseVideo(),x.media.paused=!0},x.media.stop=function(){c.stopVideo(),x.media.paused=!0},x.media.duration=c.getDuration(),x.media.paused=!0,x.media.currentTime=c.getCurrentTime(),x.media.muted=c.isMuted(),t.title=c.getVideoData().title,y(x.media,"timeupdate"),a.clearInterval(x.timer.buffering),x.timer.buffering=a.setInterval(function(){x.media.buffered=c.getVideoLoadedFraction(),y(x.media,"progress"),1===x.media.buffered&&(a.clearInterval(x.timer.buffering),y(x.media,"canplaythrough"))},200),_(),za()},onStateChange:function(b){var c=b.target;switch(a.clearInterval(x.timer.playing),b.data){case 0:x.media.paused=!0,y(x.media,"ended");break;case 1:x.media.paused=!1,x.media.seeking=!1,y(x.media,"play"),y(x.media,"playing"),x.timer.playing=a.setInterval(function(){x.media.currentTime=c.getCurrentTime(),y(x.media,"timeupdate")},100);break;case 2:x.media.paused=!0,y(x.media,"pause")}y(x.container,"statechange",!1,{code:b.data})}}})}function ba(b,c){x.embed=new a.Vimeo.Player(c.id,{id:b,loop:t.loop,autoplay:t.autoplay,byline:!1,portrait:!1,title:!1}),x.media.play=function(){x.embed.play(),x.media.paused=!1},x.media.pause=function(){x.embed.pause(),x.media.paused=!0},x.media.stop=function(){x.embed.stop(),x.media.paused=!0},x.media.paused=!0,x.media.currentTime=0,_(),x.embed.getCurrentTime().then(function(a){x.media.currentTime=a,y(x.media,"timeupdate")}),x.embed.getDuration().then(function(a){x.media.duration=a,za()}),x.embed.on("loaded",function(){C.htmlElement(x.embed.element)&&x.embed.element.setAttribute("tabindex","-1")}),x.embed.on("play",function(){x.media.paused=!1,y(x.media,"play"),y(x.media,"playing")}),x.embed.on("pause",function(){x.media.paused=!0,y(x.media,"pause")}),x.embed.on("timeupdate",function(a){x.media.seeking=!1,x.media.currentTime=a.seconds,y(x.media,"timeupdate")}),x.embed.on("progress",function(a){x.media.buffered=a.percent,y(x.media,"progress"),1===parseInt(a.percent)&&y(x.media,"canplaythrough")}),x.embed.on("ended",function(){x.media.paused=!0,y(x.media,"ended")})}function ca(){x.embed=a.SC.Widget(this),x.embed.bind(a.SC.Widget.Events.READY,function(){x.media.play=function(){x.embed.play(),x.media.paused=!1},x.media.pause=function(){x.embed.pause(),x.media.paused=!0},x.media.stop=function(){x.embed.seekTo(0),x.embed.pause(),x.media.paused=!0},x.media.paused=!0,x.media.currentTime=0,_(),x.embed.getPosition(function(a){x.media.currentTime=a,y(x.media,"timeupdate")}),x.embed.getDuration(function(a){x.media.duration=a/1e3,za()}),x.embed.bind(a.SC.Widget.Events.PLAY,function(){x.media.paused=!1,y(x.media,"play"),y(x.media,"playing")}),x.embed.bind(a.SC.Widget.Events.PAUSE,function(){x.media.paused=!0,y(x.media,"pause")}),x.embed.bind(a.SC.Widget.Events.PLAY_PROGRESS,function(a){x.media.seeking=!1,x.media.currentTime=a.currentPosition/1e3,y(x.media,"timeupdate")}),x.embed.bind(a.SC.Widget.Events.LOAD_PROGRESS,function(a){x.media.buffered=a.loadProgress,y(x.media,"progress"),1===parseInt(a.loadProgress)&&y(x.media,"canplaythrough")}),x.embed.bind(a.SC.Widget.Events.FINISH,function(){x.media.paused=!0,y(x.media,"ended")}),t.autoplay&&x.embed.play()})}function da(){"play"in x.media&&x.media.play()}function ea(){"pause"in x.media&&x.media.pause()}function fa(a){a===!0?da():a===!1?ea():x.media[x.media.paused?"play":"pause"]()}function ga(a){C.number(a)||(a=t.seekTime),ia(x.media.currentTime-a)}function ha(a){C.number(a)||(a=t.seekTime),ia(x.media.currentTime+a)}function ia(a){var b=0,c=x.media.paused,d=ja();C.number(a)?b=a:C.object(a)&&i(["input","change"],a.type)&&(b=a.target.value/a.target.max*d),b<0?b=0:b>d&&(b=d),Ba(b);try{x.media.currentTime=b.toFixed(4)}catch(a){}if(i(t.types.embed,x.type)){switch(x.type){case"youtube":x.embed.seekTo(b);break;case"vimeo":x.embed.setCurrentTime(b.toFixed(0));break;case"soundcloud":x.embed.seekTo(1e3*b)}c&&ea(),y(x.media,"timeupdate"),x.media.seeking=!0}B("Seeking to "+x.media.currentTime+" seconds"),N(b)}function ja(){var a=parseInt(t.duration),b=0;return null===x.media.duration||isNaN(x.media.duration)||(b=x.media.duration),isNaN(a)?b:a}function ka(){r(x.container,t.classes.playing,!x.media.paused),r(x.container,t.classes.stopped,x.media.paused),Da(x.media.paused)}function la(){d={x:a.pageXOffset||0,y:a.pageYOffset||0}}function ma(){a.scrollTo(d.x,d.y)}function na(a){var d=c.supportsFullScreen;a&&a.type===c.fullScreenEventName?x.isFullscreen=c.isFullScreen(x.container):d?(c.isFullScreen(x.container)?c.cancelFullScreen():(la(),c.requestFullScreen(x.container)),x.isFullscreen=c.isFullScreen(x.container)):(x.isFullscreen=!x.isFullscreen,x.isFullscreen?(u(b,"keyup",oa),b.body.style.overflow="hidden"):(v(b,"keyup",oa),b.body.style.overflow="")),r(x.container,t.classes.fullscreen.active,x.isFullscreen),x.isFullscreen?x.container.setAttribute("tabindex","-1"):x.container.removeAttribute("tabindex"),S(x.isFullscreen),x.buttons&&x.buttons.fullscreen&&z(x.buttons.fullscreen,x.isFullscreen),y(x.container,x.isFullscreen?"enterfullscreen":"exitfullscreen",!0),!x.isFullscreen&&d&&ma()}function oa(a){27===(a.which||a.charCode||a.keyCode)&&x.isFullscreen&&na()}function pa(a){if(C.boolean(a)||(a=!x.media.muted),z(x.buttons.mute,a),x.media.muted=a,0===x.media.volume&&qa(t.volume),i(t.types.embed,x.type)){switch(x.type){case"youtube":x.embed[x.media.muted?"mute":"unMute"]();break;case"vimeo":case"soundcloud":x.embed.setVolume(x.media.muted?0:parseFloat(t.volume/t.volumeMax))}y(x.media,"volumechange")}}function qa(b){var c=t.volumeMax,d=t.volumeMin;if(C.undefined(b)&&(b=t.volume,t.storage.enabled&&E().supported&&(b=a.localStorage.getItem(t.storage.key),a.localStorage.removeItem("plyr-volume"))),(null===b||isNaN(b))&&(b=t.volume),b>c&&(b=c),b<d&&(b=d),x.media.volume=parseFloat(b/c),x.volume.display&&(x.volume.display.value=b),i(t.types.embed,x.type)){switch(x.type){case"youtube":x.embed.setVolume(100*x.media.volume);break;case"vimeo":case"soundcloud":x.embed.setVolume(x.media.volume)}y(x.media,"volumechange")}x.media.muted&&b>0&&pa()}function ra(){var a=x.media.muted?0:x.media.volume*t.volumeMax;qa(a+t.volumeStep/5)}function sa(){var a=x.media.muted?0:x.media.volume*t.volumeMax;qa(a-t.volumeStep/5)}function ta(){var b=x.media.muted?0:x.media.volume*t.volumeMax;x.supported.full&&(x.volume.input&&(x.volume.input.value=b),x.volume.display&&(x.volume.display.value=b)),t.storage.enabled&&E().supported&&!isNaN(b)&&a.localStorage.setItem(t.storage.key,b),r(x.container,t.classes.muted,0===b),x.supported.full&&x.buttons.mute&&z(x.buttons.mute,0===b)}function ua(a){x.supported.full&&x.buttons.captions&&(C.boolean(a)||(a=x.container.className.indexOf(t.classes.captions.active)===-1),x.captionsEnabled=a,z(x.buttons.captions,x.captionsEnabled),r(x.container,t.classes.captions.active,x.captionsEnabled),y(x.container,x.captionsEnabled?"captionsenabled":"captionsdisabled",!0))}function va(a){var b="waiting"===a.type;clearTimeout(x.timers.loading),x.timers.loading=setTimeout(function(){r(x.container,t.classes.loading,b)},b?250:0)}function wa(a){if(x.supported.full){var b=x.progress.played,c=0,d=ja();if(a)switch(a.type){case"timeupdate":case"seeking":if(x.controls.pressed)return;c=A(x.media.currentTime,d),"timeupdate"==a.type&&x.buttons.seek&&(x.buttons.seek.value=c);break;case"playing":case"progress":b=x.progress.buffer,c=function(){var a=x.media.buffered;return a&&a.length?A(a.end(0),d):C.number(a)?100*a:0}()}xa(b,c)}}function xa(a,b){if(x.supported.full){if(C.undefined(b)&&(b=0),C.undefined(a)){if(!x.progress||!x.progress.buffer)return;a=x.progress.buffer}C.htmlElement(a)?a.value=b:a&&(a.bar&&(a.bar.value=b),a.text&&(a.text.innerHTML=b))}}function ya(a,b){if(b){isNaN(a)&&(a=0),x.secs=parseInt(a%60),x.mins=parseInt(a/60%60),x.hours=parseInt(a/60/60%60);var c=parseInt(ja()/60/60%60)>0;x.secs=("0"+x.secs).slice(-2),x.mins=("0"+x.mins).slice(-2),b.innerHTML=(c?x.hours+":":"")+x.mins+":"+x.secs}}function za(){if(x.supported.full){var a=ja()||0;!x.duration&&t.displayDuration&&x.media.paused&&ya(a,x.currentTime),x.duration&&ya(a,x.duration),Ca()}}function Aa(a){ya(x.media.currentTime,x.currentTime),a&&"timeupdate"==a.type&&x.media.seeking||wa(a)}function Ba(a){C.number(a)||(a=0);var b=ja(),c=A(a,b);x.progress&&x.progress.played&&(x.progress.played.value=c),x.buttons&&x.buttons.seek&&(x.buttons.seek.value=c)}function Ca(a){var b=ja();if(t.tooltips.seek&&x.progress.container&&0!==b){var c=x.progress.container.getBoundingClientRect(),d=0,e=t.classes.tooltip+"--visible";if(a)d=100/c.width*(a.pageX-c.left);else{if(!s(x.progress.tooltip,e))return;d=x.progress.tooltip.style.left.replace("%","")}d<0?d=0:d>100&&(d=100),ya(b/100*d,x.progress.tooltip),x.progress.tooltip.style.left=d+"%",a&&i(["mouseenter","mouseleave"],a.type)&&r(x.progress.tooltip,e,"mouseenter"===a.type)}}function Da(b){if(t.hideControls&&"audio"!==x.type){var c=0,d=!1,e=b;if(C.boolean(b)||(b&&b.type?(d="enterfullscreen"===b.type,e=i(["mousemove","touchstart","mouseenter","focus"],b.type),i(["mousemove","touchmove"],b.type)&&(c=2e3),"focus"===b.type&&(c=3e3)):e=s(x.container,t.classes.hideControls)),a.clearTimeout(x.timers.hover),e||x.media.paused){if(r(x.container,t.classes.hideControls,!1),x.media.paused)return;x.browser.isTouch&&(c=3e3)}e&&x.media.paused||(x.timers.hover=a.setTimeout(function(){(!x.controls.pressed&&!x.controls.hover||d)&&r(x.container,t.classes.hideControls,!0)},c))}}function Ea(a){if(!C.undefined(a))return void Fa(a);var b;switch(x.type){case"youtube":b=x.embed.getVideoUrl();break;case"vimeo":x.embed.getVideoUrl.then(function(a){b=a});break;case"soundcloud":x.embed.getCurrentSound(function(a){b=a.permalink_url});break;default:b=x.media.currentSrc}return b||""}function Fa(c){if(!(C.object(c)&&"sources"in c&&c.sources.length))return void F("Invalid source format");if(ea(),Ba(),xa(),Ja(),"youtube"===x.type?(x.embed.destroy(),a.clearInterval(x.timer.buffering),a.clearInterval(x.timer.playing)):"video"===x.type&&x.videoContainer&&m(x.videoContainer),x.embed=null,m(x.media),"type"in c&&(x.type=c.type,"video"===x.type)){var d=c.sources[0];"type"in d&&i(t.types.embed,d.type)&&(x.type=d.type)}switch(x.supported=H(x.type),x.type){case"video":x.media=b.createElement("video");break;case"audio":x.media=b.createElement("audio");break;case"youtube":case"vimeo":case"soundcloud":x.media=b.createElement("div"),x.embedId=c.sources[0].src}n(x.container,x.media),C.boolean(c.autoplay)&&(t.autoplay=c.autoplay),i(t.types.html5,x.type)&&(t.crossorigin&&x.media.setAttribute("crossorigin",""),t.autoplay&&x.media.setAttribute("autoplay",""),"poster"in c&&x.media.setAttribute("poster",c.poster),t.loop&&x.media.setAttribute("loop","")),x.container.className=x.originalClassName,r(x.container,t.classes.fullscreen.active,x.isFullscreen),r(x.container,t.classes.captions.active,x.captionsEnabled),W(),i(t.types.html5,x.type)&&T("source",c.sources),Z(),i(t.types.html5,x.type)?("tracks"in c&&T("track",c.tracks),x.media.load(),Ma(),za()):i(t.types.embed,x.type)&&!x.supported.full&&Ma(),t.title=c.title,Y(),x.container.plyr.media=x.media}function Ga(a){"video"===x.type&&x.media.setAttribute("poster",a)}function Ha(){function e(){var a=x.media.paused;a?da():ea();var b=x.buttons[a?"play":"pause"],c=x.buttons[a?"pause":"play"];if(c=c&&c.length>1?c[c.length-1]:c[0]){var d=s(b,t.classes.tabFocus);setTimeout(function(){c.focus(),d&&(r(b,t.classes.tabFocus,!1),r(c,t.classes.tabFocus,!0))},100)}}function f(){var a=b.activeElement;a&&a!=b.body?b.querySelector&&(a=b.querySelector(":focus")):a=null;for(var c in x.buttons){var d=x.buttons[c];if(C.nodeList(d))for(var e=0;e<d.length;e++)r(d[e],t.classes.tabFocus,d[e]===a);else r(d,t.classes.tabFocus,d===a)}}var d=x.browser.isIE?"change":"input";u(a,"keyup",function(a){var b=a.keyCode?a.keyCode:a.which;9==b&&f()}),u(b.body,"click",function(){r(Q("."+t.classes.tabFocus),t.classes.tabFocus,!1)});for(var g in x.buttons){var h=x.buttons[g];u(h,"blur",function(){r(h,"tab-focus",!1)})}w(x.buttons.play,"click",t.listeners.play,e),w(x.buttons.pause,"click",t.listeners.pause,e),w(x.buttons.restart,"click",t.listeners.restart,ia),w(x.buttons.rewind,"click",t.listeners.rewind,ga),w(x.buttons.forward,"click",t.listeners.forward,ha),w(x.buttons.seek,d,t.listeners.seek,ia),w(x.volume.input,d,t.listeners.volume,function(){qa(x.volume.input.value)}),w(x.buttons.mute,"click",t.listeners.mute,pa),w(x.buttons.fullscreen,"click",t.listeners.fullscreen,na),c.supportsFullScreen&&u(b,c.fullScreenEventName,na),u(x.buttons.captions,"click",ua),u(x.progress.container,"mouseenter mouseleave mousemove",Ca),t.hideControls&&(u(x.container,"mouseenter mouseleave mousemove touchstart touchend touchcancel touchmove enterfullscreen",Da),u(x.controls,"mouseenter mouseleave",function(a){x.controls.hover="mouseenter"===a.type}),u(x.controls,"mousedown mouseup touchstart touchend touchcancel",function(a){x.controls.pressed=i(["mousedown","touchstart"],a.type)}),u(x.controls,"focus blur",Da,!0)),u(x.volume.input,"wheel",function(a){a.preventDefault();var b=a.webkitDirectionInvertedFromDevice;(a.deltaY<0||a.deltaX>0)&&(b?sa():ra()),(a.deltaY>0||a.deltaX<0)&&(b?ra():sa())})}function Ia(){if(u(x.media,"timeupdate seeking",Aa),u(x.media,"timeupdate",N),u(x.media,"durationchange loadedmetadata",za),u(x.media,"ended",function(){"video"===x.type&&M(),ka(),ia(0),za(),"video"===x.type&&t.showPosterOnEnd&&x.media.load()}),u(x.media,"progress playing",wa),u(x.media,"volumechange",ta),u(x.media,"play pause",ka),u(x.media,"waiting canplay seeked",va),t.clickToPlay&&"audio"!==x.type){var a=Q("."+t.classes.videoWrapper);if(!a)return;a.style.cursor="pointer",u(a,"click",function(){t.hideControls&&x.browser.isTouch&&!x.media.paused||(x.media.paused?da():x.media.ended?(ia(),da()):ea())})}t.disableContextMenu&&u(x.media,"contextmenu",function(a){a.preventDefault()}),u(x.media,t.events.join(" "),function(a){y(x.container,a.type,!0)})}function Ja(){if(i(t.types.html5,x.type)){
for(var a=x.media.querySelectorAll("source"),b=0;b<a.length;b++)m(a[b]);x.media.setAttribute("src","https://cdn.selz.com/plyr/blank.mp4"),x.media.load(),B("Cancelled network requests for old media")}}function Ka(){if(!x.init)return null;if(x.container.setAttribute("class",q(t.selectors.container)),x.init=!1,m(Q(t.selectors.controls.wrapper)),"youtube"===x.type)return void x.embed.destroy();"video"===x.type&&(m(Q(t.selectors.captions)),l(x.videoContainer)),X(!0);var a=x.media.cloneNode(!0);x.media.parentNode.replaceChild(a,x.media)}function La(){if(x.init)return null;if(c=D(),x.browser=f(),x.media=x.container.querySelectorAll("audio, video")[0],x.media||(x.media=x.container.querySelectorAll("[data-type]")[0]),x.media){x.originalClassName=x.container.className;var a=x.media.tagName.toLowerCase();if("div"===a?(x.type=x.media.getAttribute("data-type"),x.embedId=x.media.getAttribute("data-video-id"),x.media.removeAttribute("data-type"),x.media.removeAttribute("data-video-id")):(x.type=a,t.crossorigin=null!==x.media.getAttribute("crossorigin"),t.autoplay=t.autoplay||null!==x.media.getAttribute("autoplay"),t.loop=t.loop||null!==x.media.getAttribute("loop")),x.supported=H(x.type),W(),!x.supported.basic)return!1;if(B(x.browser.name+" "+x.browser.version),Z(),i(t.types.html5,x.type)){if(!x.supported.full)return void(x.init=!0);Ma(),Y(),t.autoplay&&da()}else i(t.types.embed,x.type)&&!x.supported.full&&Ma();x.init=!0}}function Ma(){if(!x.supported.full)return F("No full support for this media type ("+x.type+")"),m(Q(t.selectors.controls.wrapper)),m(Q(t.selectors.buttons.play)),void X(!0);var a=!P(t.selectors.controls.wrapper).length;a&&U(),V()&&(a&&Ha(),Ia(),X(),K(),L(),qa(0),ta(),Aa(),ka(),za(),y(x.container,"ready",!0))}var x=this;return x.container=e,x.timers={},B(t),La(),x.init?{media:x.media,play:da,pause:ea,restart:ia,rewind:ga,forward:ha,seek:ia,source:Ea,poster:Ga,setVolume:qa,togglePlay:fa,toggleMute:pa,toggleCaptions:ua,toggleFullscreen:na,toggleControls:Da,isFullscreen:function(){return x.isFullscreen||!1},support:function(a){return g(x,a)},destroy:Ka,restore:La,getCurrentTime:function(){return x.media.currentTime}}:{}}function G(a,c){var d=new XMLHttpRequest;C.string(c)&&null!==b.querySelector("#"+c)||"withCredentials"in d&&(d.open("GET",a,!0),d.onload=function(){var a=b.createElement("div");a.setAttribute("hidden",""),C.string(c)&&a.setAttribute("id",c),a.innerHTML=d.responseText,b.body.insertBefore(a,b.body.childNodes[0])},d.send())}function H(a){var j,k,c=f(),d=c.isIE&&c.version<=9,e=c.isIos,g=/iPhone|iPod/i.test(navigator.userAgent),h=!!b.createElement("audio").canPlayType,i=!!b.createElement("video").canPlayType;switch(a){case"video":j=i,k=j&&!d&&!g;break;case"audio":j=h,k=j&&!d;break;case"vimeo":case"youtube":case"soundcloud":j=!0,k=!d&&!e;break;default:j=h&&i,k=j&&!d}return{basic:j,full:k}}function I(a,c){var d=[],f=[],g=[e.selectors.html5,e.selectors.embed].join(",");if(C.string(a)?a=b.querySelectorAll(a):C.htmlElement(a)?a=[a]:C.nodeList(a)||C.array(a)||C.string(a)||(C.undefined(c)&&C.object(a)&&(c=a),a=b.querySelectorAll(g)),C.nodeList(a)&&(a=Array.prototype.slice.call(a)),!H().basic||!a.length)return!1;for(var h=0;h<a.length;h++){var i=a[h],j=i.querySelectorAll(g);if(j.length>1)for(var l=0;l<j.length;l++)f.push({element:k(j[l],b.createElement("div")),original:i});else f.push({element:i})}for(var m in f){var n=f[m].element,o=f[m].original||n;if(t(n,g)&&(n=k(n,b.createElement("div"))),!("plyr"in n)){var p=B({},e,c,JSON.parse(o.getAttribute("data-plyr")));if(!p.enabled)return null;var q=new F(n,p);n.plyr=!!Object.keys(q).length&&q,y(o,"setup",!0,{plyr:n.plyr})}d.push(n)}return d}var c,d={x:0,y:0},e={enabled:!0,debug:!1,autoplay:!1,loop:!1,seekTime:10,volume:5,volumeMin:0,volumeMax:10,volumeStep:1,duration:null,displayDuration:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/1.8.12/plyr.svg",clickToPlay:!0,hideControls:!0,showPosterOnEnd:!1,disableContextMenu:!0,tooltips:{controls:!1,seek:!0},selectors:{html5:"video, audio",embed:"[data-type]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{seek:'[data-plyr="seek"]',play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',forward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]'},volume:{input:'[data-plyr="volume"]',display:".plyr__volume--display"},progress:{container:".plyr__progress",buffer:".plyr__progress--buffer",played:".plyr__progress--played"},captions:".plyr__captions",currentTime:".plyr__time--current",duration:".plyr__time--duration"},classes:{videoWrapper:"plyr__video-wrapper",embedWrapper:"plyr__video-embed",type:"plyr--{0}",stopped:"plyr--stopped",playing:"plyr--playing",muted:"plyr--muted",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",active:"plyr--fullscreen-active"},tabFocus:"tab-focus"},captions:{defaultActive:!1},fullscreen:{enabled:!0,fallback:!0,allowAudio:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime} secs",play:"Play",pause:"Pause",forward:"Forward {seektime} secs",played:"played",buffered:"buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",toggleMute:"Toggle Mute",toggleCaptions:"Toggle Captions",toggleFullscreen:"Toggle Fullscreen",frameTitle:"Player for {title}"},types:{embed:["youtube","vimeo","soundcloud"],html5:["video","audio"]},urls:{vimeo:{api:"https://player.vimeo.com/api/player.js"},youtube:{api:"https://www.youtube.com/iframe_api"},soundcloud:{api:"https://w.soundcloud.com/player/api.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,forward:null,mute:null,volume:null,captions:null,fullscreen:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","emptied"]},C={object:function(a){return null!==a&&"object"==typeof a},array:function(a){return null!==a&&"object"==typeof a&&a.constructor===Array},number:function(a){return"number"==typeof a&&!isNaN(a-0)||"object"==typeof a&&a.constructor===Number},string:function(a){return"string"==typeof a||"object"==typeof a&&a.constructor===String},boolean:function(a){return"boolean"==typeof a},nodeList:function(a){return a instanceof NodeList},htmlElement:function(a){return a instanceof HTMLElement},undefined:function(a){return"undefined"==typeof a}};return{setup:I,supported:H,loadSprite:G}}),function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}"function"!=typeof window.CustomEvent&&(a.prototype=window.Event.prototype,window.CustomEvent=a)}();